(function(t){function e(e){for(var r,i,o=e[0],l=e[1],d=e[2],c=0,p=[];c<o.length;c++)i=o[c],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},n={app:0},s=[];function i(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"9ceade71"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=n[t]=[e,r]}));e.push(a[2]=r);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=i(t);var d=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(c);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",d.name="ChunkLoadError",d.type=r,d.request=s,a[1](d)}n[t]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=d;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("85ec"),n=a.n(r);n.a},"09cb":function(t,e,a){},"0d04":function(t,e,a){},"0e6a":function(t,e,a){},"151a":function(t,e,a){},"16ca":function(t,e,a){"use strict";var r=a("4eab"),n=a.n(r);n.a},"355b":function(t,e,a){"use strict";var r=a("0d04"),n=a.n(r);n.a},"4ca0":function(t,e,a){"use strict";var r=a("0e6a"),n=a.n(r);n.a},"4e83":function(t,e,a){"use strict";var r=a("09cb"),n=a.n(r);n.a},"4eab":function(t,e,a){},"55d4":function(t,e,a){"use strict";var r=a("e4ae"),n=a.n(r);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Header"),a("router-view")],1)},s=[],i=a("2f62"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Tracking tool")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown1",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Undelivered")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown1"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/undelivered"}},[t._v("All")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/undeliveredcountries"}},[t._v("Country")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/undeliveredstatus"}},[t._v("Status")])],1)]),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Delivered")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown2"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/delivered30"}},[t._v("Last 30 days")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/deliveredcountries90"}},[t._v("Country (90 days)")])],1)]),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown4",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Manage")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown4"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/countrylist"}},[t._v("Country list")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/shippinglist"}},[t._v("Shipping method list")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/shippingratinglist"}},[t._v("Shipping rating list")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/labels"}},[t._v("Group labels")])],1)]),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown3",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Tools")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown3"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/addrecords"}},[t._v("Add records")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/updaterecords"}},[t._v("Update records")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/runtimelog"}},[t._v("Runtime log")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/maintenance"}},[t._v("Maintenance")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/analyze"}},[t._v("Analyze")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/alert"}},[t._v("Alert")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/errorcheck"}},[t._v("Error check")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/alerts"}},[t._v("Alerts")])],1)])])])],1)])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],d={name:"Header"},c=d,u=a("2877"),p=Object(u["a"])(c,o,l,!1,null,"56e9c2df",null),v=p.exports,h={name:"app",components:{Header:v},methods:Object(i["b"])(["fetchTrackings","fetchCountries","fetchShippings","fetchGrouplabels"]),created:function(){this.fetchTrackings(),this.fetchCountries(),this.fetchShippings(),this.fetchGrouplabels()}},_=h,m=(a("034f"),Object(u["a"])(_,n,s,!1,null,null,null)),b=m.exports,g=(a("d3b7"),a("8c4f")),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-1"}),a("DataStatus"),a("div",{staticClass:"col-1"}),a("TrackingStatus"),a("div",{staticClass:"col-1"})],1),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h2",[t._v("Undelivered count (rate)")]),a("table",{staticClass:"table table-striped table-dark"},[t._m(0),a("tbody",[t._m(1),a("tr",[a("td",[a("router-link",{attrs:{to:t.undelivered_count[0].link}},[t._v(t._s(t.undelivered_count[0].label))])],1),a("td",[t._v(t._s(t.undelivered_count[0].dhl.count)+" ("+t._s(t.undelivered_count[0].dhl.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[0].ems.count)+" ("+t._s(t.undelivered_count[0].ems.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[0].other.count)+" ("+t._s(t.undelivered_count[0].other.rate)+"%)")]),a("td",[a("a",{staticClass:"download",attrs:{href:t.undelivered_count[0].downloadlink}},[t._v("Download")])])]),a("tr",[a("td",[a("router-link",{attrs:{to:t.undelivered_count[1].link}},[t._v(t._s(t.undelivered_count[1].label))])],1),a("td",[t._v(t._s(t.undelivered_count[1].dhl.count)+" ("+t._s(t.undelivered_count[1].dhl.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[1].ems.count)+" ("+t._s(t.undelivered_count[1].ems.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[1].other.count)+" ("+t._s(t.undelivered_count[1].other.rate)+"%)")]),a("td",[a("a",{staticClass:"download",attrs:{href:t.undelivered_count[1].downloadlink}},[t._v("Download")])])]),a("tr",[a("td",[a("router-link",{attrs:{to:t.undelivered_count[2].link}},[t._v(t._s(t.undelivered_count[2].label))])],1),a("td",[t._v(t._s(t.undelivered_count[2].dhl.count)+" ("+t._s(t.undelivered_count[2].dhl.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[2].ems.count)+" ("+t._s(t.undelivered_count[2].ems.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[2].other.count)+" ("+t._s(t.undelivered_count[2].other.rate)+"%)")]),a("td",[a("a",{staticClass:"download",attrs:{href:t.undelivered_count[2].downloadlink}},[t._v("Download")])])]),a("tr",[a("td",[a("router-link",{attrs:{to:t.undelivered_count[3].link}},[t._v(t._s(t.undelivered_count[3].label))])],1),a("td",[t._v(t._s(t.undelivered_count[3].dhl.count)+" ("+t._s(t.undelivered_count[3].dhl.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[3].ems.count)+" ("+t._s(t.undelivered_count[3].ems.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[3].other.count)+" ("+t._s(t.undelivered_count[3].other.rate)+"%)")]),a("td",[a("a",{staticClass:"download",attrs:{href:t.undelivered_count[3].downloadlink}},[t._v("Download")])])]),t._m(2),a("tr",[a("td",[a("router-link",{attrs:{to:t.undelivered_count[4].link}},[t._v(t._s(t.months[(new Date).getMonth()]))])],1),a("td",[t._v(t._s(t.undelivered_count[4].dhl.count)+" ("+t._s(t.undelivered_count[4].dhl.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[4].ems.count)+" ("+t._s(t.undelivered_count[4].ems.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[4].other.count)+" ("+t._s(t.undelivered_count[4].other.rate)+"%)")]),a("td",[a("a",{staticClass:"download",attrs:{href:t.undelivered_count[4].downloadlink}},[t._v("Download")])])]),a("tr",[a("td",[a("router-link",{attrs:{to:t.undelivered_count[5].link}},[t._v(t._s(t.months[(new Date).getMonth()-1>=0?(new Date).getMonth()-1:(new Date).getMonth()+11]))])],1),a("td",[t._v(t._s(t.undelivered_count[5].dhl.count)+" ("+t._s(t.undelivered_count[5].dhl.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[5].ems.count)+" ("+t._s(t.undelivered_count[5].ems.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[5].other.count)+" ("+t._s(t.undelivered_count[5].other.rate)+"%)")]),a("td",[a("a",{staticClass:"download",attrs:{href:t.undelivered_count[5].downloadlink}},[t._v("Download")])])]),a("tr",[a("td",[a("router-link",{attrs:{to:t.undelivered_count[6].link}},[t._v(t._s(t.months[(new Date).getMonth()-2>=0?(new Date).getMonth()-2:(new Date).getMonth()+10]))])],1),a("td",[t._v(t._s(t.undelivered_count[6].dhl.count)+" ("+t._s(t.undelivered_count[6].dhl.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[6].ems.count)+" ("+t._s(t.undelivered_count[6].ems.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[6].other.count)+" ("+t._s(t.undelivered_count[6].other.rate)+"%)")]),a("td",[a("a",{staticClass:"download",attrs:{href:t.undelivered_count[6].downloadlink}},[t._v("Download")])])]),t._m(3),a("tr",[a("td",[a("router-link",{attrs:{to:"/undelivered"}},[t._v("All")])],1),a("td",[t._v(t._s(t.undelivered_count[7].dhl.count)+" ("+t._s(t.undelivered_count[7].dhl.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[7].ems.count)+" ("+t._s(t.undelivered_count[7].ems.rate)+"%)")]),a("td",[t._v(t._s(t.undelivered_count[7].other.count)+" ("+t._s(t.undelivered_count[7].other.rate)+"%)")]),a("td",[a("a",{staticClass:"download",attrs:{href:t.undelivered_count[7].downloadlink}},[t._v("Download")])])])])])])])])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{span:"col"}}),a("th",{attrs:{span:"col"}},[t._v("DHL")]),a("th",{attrs:{span:"col"}},[t._v("EMS")]),a("th",{attrs:{span:"col"}},[t._v("Air/SAL")]),a("th",{attrs:{span:"col"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"t_blank_row"},[a("td",{staticClass:"t_blank_row",attrs:{colspan:"5"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"t_blank_row"},[a("td",{staticClass:"t_blank_row",attrs:{colspan:"5"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"t_blank_row"},[a("td",{staticClass:"t_blank_row",attrs:{colspan:"5"}})])}],k=(a("99af"),a("4de4"),a("4160"),a("c975"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col card text-white bg-dark"},[t._m(0),t.allTrackingData.length>0?a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[t._v("Total records: "+t._s(t.allTrackingData.length))]),a("p",{staticClass:"card-text"},[a("b",[t._v("Worldwide average shipping times:")]),a("br"),a("i",[t._v("*last 30 days (Overall)")]),a("br"),a("span",[t._v("DHL: "+t._s(t.dhl_avg_time(0,30))+" days ("+t._s(t.dhl_avg_time(0,9999))+" days)")]),a("br"),a("span",[t._v("EMS: "+t._s(t.ems_avg_time(0,30))+" days ("+t._s(t.ems_avg_time(0,9999))+" days)")]),a("br"),a("span",[t._v("Air/SAL: "+t._s(t.other_avg_time(0,30))+" days ("+t._s(t.other_avg_time(0,9999))+" days)")])])]):a("div",{staticClass:"card-body"},[a("h2",[t._v("Loading...")])]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tracking,expression:"tracking"}],staticClass:"form-control",attrs:{type:"text",placeholder:"tracking number"},domProps:{value:t.tracking},on:{input:function(e){e.target.composing||(t.tracking=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/trackingdetails?tracking="+t.tracking}},[t._v("Check")])],1)]),a("a",{staticClass:"btn btn-link mb-3",attrs:{href:"/"}},[t._v("Refresh data")])])}),w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("h2",[t._v("Data status")])])}],C={name:"DataStatus",computed:Object(i["c"])(["allTrackingData"]),methods:{dhl_avg_time:function(t,e){var a=this.allTrackingData.filter((function(t){return"INVALID"!=t.carrier})),r=0,n=0,s=Date.now()-864e5*parseInt(t),i=Date.now()-864e5*parseInt(e);return a.forEach((function(t){"DHL"==t.carrier&&t.shippeddate>i&&s>=t.shippeddate&&t.delivereddate-t.shippeddate>0&&(r+=(t.delivereddate-t.shippeddate)/864e5,n++)})),Math.round(100*r/n)/100},ems_avg_time:function(t,e){var a=this.allTrackingData.filter((function(t){return"INVALID"!=t.carrier})),r=0,n=0,s=Date.now()-864e5*parseInt(t),i=Date.now()-864e5*parseInt(e);return a.forEach((function(t){"DHL"!=t.carrier&&0==t.tracking.indexOf("EM")&&t.shippeddate>i&&s>=t.shippeddate&&t.delivereddate-t.shippeddate>0&&(r+=(t.delivereddate-t.shippeddate)/864e5,n++)})),Math.round(100*r/n)/100},other_avg_time:function(t,e){var a=this.allTrackingData.filter((function(t){return"INVALID"!=t.carrier})),r=0,n=0,s=Date.now()-864e5*parseInt(t),i=Date.now()-864e5*parseInt(e);return a.forEach((function(t){"DHL"!=t.carrier&&0!=t.tracking.indexOf("EM")&&t.shippeddate>i&&s>=t.shippeddate&&t.delivereddate-t.shippeddate>0&&(r+=(t.delivereddate-t.shippeddate)/864e5,n++)})),Math.round(100*r/n)/100}},data:function(){return{tracking:""}}},x=C,D=Object(u["a"])(x,k,w,!1,null,"f55e656e",null),O=D.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col card text-white bg-dark"},[t._m(0),a("div",{staticClass:"card-body"},[t.status.jp?a("div",{staticClass:"card-text"},[a("p",{class:{done:t.status.jp.current==t.status.jp.total}},[t._v(" JP tracking at "+t._s(t.status.jp.current)+" of "+t._s(t.status.jp.total)+" records. "),a("i",[t._v("(Last: "+t._s(t.status.jp.last)+")")])]),a("p",{class:{done:t.status.dhl.current==t.status.dhl.total}},[t._v(" DHL tracking at "+t._s(t.status.dhl.current)+" of "+t._s(t.status.dhl.total)+" records. "),a("i",[t._v("(Last: "+t._s(t.status.dhl.last)+")")])]),a("p",{class:{done:t.status.usps.current==t.status.usps.total}},[t._v(" USPS tracking at "+t._s(t.status.usps.current)+" of "+t._s(t.status.usps.total)+" records. "),a("i",[t._v("(Last: "+t._s(t.status.usps.last)+")")])])]):t._e(),a("a",{staticClass:"btn btn-link",on:{click:function(e){return t.updateStatus()}}},[t._v("Refresh tracking")])])])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("h2",[t._v("Tracking status")])])}],T=a("bc3a"),A=a.n(T),L={name:"TrackingStatus",data:function(){return{status:{}}},methods:{updateStatus:function(){var t=this;A.a.get("/api/getlog").then((function(e){return t.status=e.data.tracking})).catch((function(t){return console.log(t)}))}},created:function(){this.updateStatus()}},M=L,j=(a("4ca0"),Object(u["a"])(M,E,S,!1,null,"873f25f4",null)),I=j.exports,P={name:"Home",components:{DataStatus:O,TrackingStatus:I},data:function(){var t=Date.now(),e=864e5,a=new Date(t),r={this_month_start:new Date(a.getFullYear(),a.getMonth(),1,0,0,0,0).getTime(),last_month_start:new Date(a.getFullYear(),a.getMonth()-1,1,0,0,0,0).getTime(),lastlast_month_start:new Date(a.getFullYear(),a.getMonth()-2,1,0,0,0,0).getTime()};return{months:["January","February","March","April","May","June","July","August","September","October","November","December"],undelivered_count:[{label:"Last 7 days",link:"/undelivered?start=".concat(t-7*e,"&end=").concat(t),downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&shippedfrom=".concat(t-7*e,"&shippedto=").concat(t,"&done=0"),start:t-7*e,end:t,dhl:{count:0,rate:0},ems:{count:0,rate:0},other:{count:0,rate:0}},{label:"7-30 days ago",link:"/undelivered?start=".concat(t-30*e,"&end=").concat(t-7*e),downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&shippedfrom=".concat(t-30*e,"&shippedto=").concat(t-7*e,"&done=0"),start:t-30*e,end:t-7*e,dhl:{count:0,rate:0},ems:{count:0,rate:0},other:{count:0,rate:0}},{label:"30-90 days ago",link:"/undelivered?start=".concat(t-90*e,"&end=").concat(t-30*e),downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&shippedfrom=".concat(t-90*e,"&shippedto=").concat(t-30*e,"&done=0"),start:t-90*e,end:t-30*e,dhl:{count:0,rate:0},ems:{count:0,rate:0},other:{count:0,rate:0}},{label:"More than 90 days ago",link:"/undelivered?start=".concat(0,"&end=",t-90*e),downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&shippedfrom=".concat(0,"&shippedto=",t-90*e,"&done=0"),start:0,end:t-90*e,dhl:{count:0,rate:0},ems:{count:0,rate:0},other:{count:0,rate:0}},{label:"This month",link:"/undelivered?start=".concat(r.this_month_start,"&end=").concat(t),downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&shippedfrom=".concat(r.this_month_start,"&shippedto=").concat(t,"&done=0"),start:r.this_month_start,end:t,dhl:{count:0,rate:0},ems:{count:0,rate:0},other:{count:0,rate:0}},{label:"Last month",link:"/undelivered?start=".concat(r.last_month_start,"&end=").concat(r.this_month_start),downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&shippedfrom=".concat(r.last_month_start,"&shippedto=").concat(r.this_month_start,"&done=0"),start:r.last_month_start,end:r.this_month_start,dhl:{count:0,rate:0},ems:{count:0,rate:0},other:{count:0,rate:0}},{label:"Last last month",link:"/undelivered?start=".concat(r.lastlast_month_start,"&end=").concat(r.last_month_start),downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&shippedfrom=".concat(r.lastlast_month_start,"&shippedto=").concat(r.last_month_start,"&done=0"),start:r.lastlast_month_start,end:r.last_month_start,dhl:{count:0,rate:0},ems:{count:0,rate:0},other:{count:0,rate:0}},{label:"All",link:"/undelivered",downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&shippedfrom=".concat(0,"&shippedto=",t,"&done=0"),start:0,end:t,dhl:{count:0,rate:0},ems:{count:0,rate:0},other:{count:0,rate:0}}]}},computed:Object(i["c"])(["allTrackingData"]),methods:{updater:function(){var t=this.allTrackingData.filter((function(t){return"INVALID"!=t.carrier}));0==t.length?setTimeout(this.updater,1e3):this.undelivered_count.forEach((function(e){var a={dhl:0,ems:0,other:0};t.forEach((function(t){t.shippeddate>e.start&&e.end>=t.shippeddate&&("DHL"==t.carrier&&(a.dhl++,0==t.delivered&&e.dhl.count++),0==t.tracking.indexOf("EM")&&(a.ems++,0==t.delivered&&e.ems.count++),0!=t.tracking.indexOf("EM")&&"DHL"!=t.carrier&&(a.other++,0==t.delivered&&e.other.count++))})),e.dhl.rate=Math.round(e.dhl.count/(0==a.dhl?1:a.dhl)*1e3)/10,e.ems.rate=Math.round(e.ems.count/(0==a.ems?1:a.ems)*1e3)/10,e.other.rate=Math.round(e.other.count/(0==a.other?1:a.other)*1e3)/10}))}},created:function(){this.updater()}},R=P,$=Object(u["a"])(R,f,y,!1,null,"0895cd96",null),N=$.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[t.$route.query.start?a("h2",[t._v("Undelivered records for "+t._s(new Date(parseInt(t.$route.query.start)).toDateString())+" - "+t._s(new Date(parseInt(t.$route.query.end)).toDateString()))]):a("h2",[t._v("All undelivered records")]),a("p",[t._v("Total records: "+t._s(t.filterdata().length))]),a("TrackingList",{attrs:{data:t.filterdata()}})],1)])])},B=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-striped table-dark"},[t._m(0),a("tbody",t._l(t.data,(function(e){return a("tr",{key:e.id,class:{"bg-success":e.done}},[a("td",[a("router-link",{attrs:{to:t.detailslink(e.tracking)}},[t._v(t._s(e.tracking))])],1),a("td",[t._v(t._s(e.status))]),a("td",[t._v(t._s(new Date(e.shippeddate).toLocaleDateString("ja-JP")))]),a("td",[t._v("-")]),a("td",[t._v(t._s(0==e.delivereddate?"Not arrived":e.shippeddate>=e.delivereddate?"Arrived":new Date(e.delivereddate).toLocaleDateString("ja-JP")))])])})),0)])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Tracking number")]),a("th",{attrs:{scope:"col"}},[t._v("Status")]),a("th",{attrs:{scope:"col",colspan:"3"}},[t._v("Date")])])])}],q={name:"TrackingList",props:["data"],methods:{detailslink:function(t){return"/trackingdetails?tracking=".concat(t)}}},J=q,z=Object(u["a"])(J,H,F,!1,null,"d2aa8c88",null),V=z.exports,G={name:"Undelivered",components:{TrackingList:V},computed:Object(i["c"])(["allTrackingData"]),methods:{filterdata:function(){var t=0,e=Date.now();this.$route.query.start&&this.$route.query.end&&(t=parseInt(this.$route.query.start),e=parseInt(this.$route.query.end));var a=this.allTrackingData.filter((function(a){return"INVALID"!=a.carrier&&0==a.delivered&&a.shippeddate>t&&e>a.shippeddate}));return a}}},Y=G,W=Object(u["a"])(Y,U,B,!1,null,null,null),K=W.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h2",[t._v("Country list data")]),a("table",{staticClass:"table table-dark table-striped"},[t._m(0),a("tbody",t._l(t.countries,(function(e){return a("tr",{key:e.id},[a("td",[a("router-link",{attrs:{to:e.link}},[t._v(t._s(e.country))])],1),a("td",[t._v(t._s(e.dhl_count))]),a("td",[t._v(t._s(e.ems_count))]),a("td",[t._v(t._s(e.other_count))]),a("td",[e.downloadlink?a("a",{staticClass:"download",attrs:{href:e.downloadlink}},[t._v("Download")]):t._e()])])})),0)])])])])},Q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{span:"col"}},[t._v("Country")]),a("th",{attrs:{span:"col"}},[t._v("DHL")]),a("th",{attrs:{span:"col"}},[t._v("EMS")]),a("th",{attrs:{span:"col"}},[t._v("Air/SAL")]),a("th",{attrs:{span:"col"}})])])}],X={name:"UndeliveredCountries",computed:Object(i["c"])(["allTrackingData"]),data:function(){return{countries:[]}},created:function(){var t=this,e=this.allTrackingData.filter((function(t){return"INVALID"!=t.carrier&&!t.delivered}));e.forEach((function(e){for(var a=-1,r=0;r<t.countries.length;r++)if(t.countries[r].country==e.country){a=r;break}-1==a&&(a=t.countries.length,t.countries.push({id:a,country:e.country,link:"/countrydetails?country=".concat(e.country),downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&country=".concat(e.country,"&done=0"),dhl_count:0,ems_count:0,other_count:0})),"DHL"==e.carrier?t.countries[a].dhl_count++:0==e.tracking.indexOf("EM")?t.countries[a].ems_count++:t.countries[a].other_count++})),this.countries.sort((function(t,e){return t.dhl_count+t.ems_count+t.other_count>e.dhl_count+e.ems_count+e.other_count?-1:t.dhl_count+t.ems_count+t.other_count<e.dhl_count+e.ems_count+e.other_count?1:0}))}},tt=X,et=Object(u["a"])(tt,Z,Q,!1,null,null,null),at=et.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h2",[t._v("Status list data")]),a("table",{staticClass:"table table-dark table-striped"},[t._m(0),a("tbody",t._l(t.statuses,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.status))]),a("td",[t._v(t._s(e.count))]),a("td",[e.downloadlink?a("a",{staticClass:"download",attrs:{href:e.downloadlink}},[t._v("Download")]):t._e()])])})),0)])])])])},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{span:"col"}},[t._v("Status")]),a("th",{attrs:{span:"col"}},[t._v("Count")]),a("th",{attrs:{span:"col"}})])])}],st={name:"UndeliveredStatus",computed:Object(i["c"])(["allTrackingData"]),data:function(){return{statuses:[]}},created:function(){var t=this,e=this.allTrackingData.filter((function(t){return"INVALID"!=t.carrier&&!t.delivered}));e.forEach((function(e){for(var a=-1,r=0;r<t.statuses.length;r++)if(t.statuses[r].status==e.status){a=r;break}-1==a&&(a=t.statuses.length,t.statuses.push({id:a,status:e.status,downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate&status=".concat(e.status),count:0})),t.statuses[a].count++})),this.statuses.sort((function(t,e){return t.count>e.count?-1:t.count<e.count?1:0}));var a=this.statuses.length;this.statuses=this.statuses.filter((function(t){return t.count>1})),this.statuses.push({id:a,status:"Other",count:a-this.statuses.length})}},it=st,ot=Object(u["a"])(it,rt,nt,!1,null,null,null),lt=ot.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h2",[t._v("All records delivered within last 30 days")]),a("TrackingList",{attrs:{data:t.doneTrackings30()}})],1)])])},ct=[],ut={name:"Delivered30days",components:{TrackingList:V},computed:Object(i["c"])(["allTrackingData"]),methods:{doneTrackings30:function(){return this.allTrackingData.filter((function(t){return"INVALID"!=t.carrier&&t.delivered&&t.delivereddate>Date.now()-2592e6}))}}},pt=ut,vt=Object(u["a"])(pt,dt,ct,!1,null,null,null),ht=vt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h2",[t._v("Country list data (last 90 days)")]),a("table",{staticClass:"table table-dark table-striped"},[t._m(0),a("tbody",t._l(t.countries,(function(e){return a("tr",{key:e.id},[a("td",[a("router-link",{attrs:{to:e.link}},[t._v(t._s(e.country))])],1),e.dhl.count>0?a("td",[t._v(" "+t._s(e.dhl.shortest)+" - "),a("b",[t._v(t._s(e.dhl.averagedays)+" days")]),t._v(" - "+t._s(e.dhl.longest)+" ")]):a("td",[t._v("-")]),e.ems.count>0?a("td",[t._v(" "+t._s(e.ems.shortest)+" - "),a("b",[t._v(t._s(e.ems.averagedays)+" days")]),t._v(" - "+t._s(e.ems.longest)+" ")]):a("td",[t._v("-")]),e.other.count>0?a("td",[t._v(" "+t._s(e.other.shortest)+" - "),a("b",[t._v(t._s(e.other.averagedays)+" days")]),t._v(" - "+t._s(e.other.longest)+" ")]):a("td",[t._v("-")])])})),0)])])])])},mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{span:"col"}},[t._v("Country")]),a("th",{attrs:{span:"col"}},[t._v("DHL")]),a("th",{attrs:{span:"col"}},[t._v("EMS")]),a("th",{attrs:{span:"col"}},[t._v("Air/SAL")])])])}],bt={name:"DeliveredCountries90days",computed:Object(i["c"])(["allTrackingData"]),data:function(){return{countries:[]}},created:function(){var t=this,e=864e5,a=this.allTrackingData.filter((function(t){return"INVALID"!=t.carrier&&t.delivered&&t.delivereddate>Date.now()-7776e6}));a.forEach((function(a){for(var r=-1,n=0;n<t.countries.length;n++)if(t.countries[n].country==a.country){r=n;break}-1==r&&(r=t.countries.length,t.countries.push({id:r,country:a.country,link:"/countrydetails?country=".concat(a.country),dhl:{count:0,totaldays:0,averagedays:0,shortest:9999,longest:0},ems:{count:0,totaldays:0,averagedays:0,shortest:9999,longest:0},other:{count:0,totaldays:0,averagedays:0,shortest:9999,longest:0}}));var s=(a.delivereddate-a.shippeddate)/e;"DHL"==a.carrier?(t.countries[r].dhl.count++,t.countries[r].dhl.totaldays+=s,t.countries[r].dhl.averagedays=Math.round(10*t.countries[r].dhl.totaldays/t.countries[r].dhl.count)/10,t.countries[r].dhl.shortest>s&&(t.countries[r].dhl.shortest=Math.floor(s)),t.countries[r].dhl.longest<s&&(t.countries[r].dhl.longest=Math.ceil(s))):0==a.tracking.indexOf("EM")?(t.countries[r].ems.count++,t.countries[r].ems.totaldays+=s,t.countries[r].ems.averagedays=Math.round(10*t.countries[r].ems.totaldays/t.countries[r].ems.count)/10,t.countries[r].ems.shortest>s&&(t.countries[r].ems.shortest=Math.floor(s)),t.countries[r].ems.longest<s&&(t.countries[r].ems.longest=Math.ceil(s))):(t.countries[r].other.count++,t.countries[r].other.totaldays+=s,t.countries[r].other.averagedays=Math.round(10*t.countries[r].other.totaldays/t.countries[r].other.count)/10,t.countries[r].other.shortest>s&&(t.countries[r].other.shortest=Math.floor(s)),t.countries[r].other.longest<s&&(t.countries[r].other.longest=Math.ceil(s)))})),this.countries.sort((function(t,e){return t.dhl.count+t.ems.count+t.other.count>e.dhl.count+e.ems.count+e.other.count?-1:t.dhl.count+t.ems.count+t.other.count<e.dhl.count+e.ems.count+e.other.count?1:0}))}},gt=bt,ft=Object(u["a"])(gt,_t,mt,!1,null,null,null),yt=ft.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[null!=t.thisdata?a("div",{staticClass:"col"},[a("h2",[t._v("Tracking details for "+t._s(t.thisdata.tracking))]),a("table",{staticClass:"table table-dark table-striped"},[a("tbody",[a("tr",[a("th",[t._v("Added")]),a("td",[t._v(t._s(new Date(t.thisdata.addeddate).toDateString()))]),a("th",[t._v("Last checked")]),a("td",[t._v(t._s(t.thisdata.lastchecked>0?new Date(t.thisdata.lastchecked).toDateString():"Not checked..."))])]),a("tr",[a("th",[t._v("Country")]),a("td",[t._v(t._s(t.thisdata.country)),a("br"),a("input",{staticClass:"form-control",attrs:{type:"text",name:"country",id:"country"},domProps:{value:t.thisdata.country}})]),a("th",[t._v("Carrier")]),a("td",[t._v(t._s(t.thisdata.carrier)),a("br"),a("input",{staticClass:"form-control",attrs:{type:"text",name:"carrier",id:"carrier"},domProps:{value:t.thisdata.carrier}})])]),a("tr",[a("th",[t._v("Shipped")]),a("td",[t._v(t._s(new Date(t.thisdata.shippeddate).toDateString())),a("br"),a("input",{staticClass:"form-control",attrs:{type:"date",name:"shippeddate",id:"shippeddate"}})]),a("th",[t._v("Delivered")]),a("td",[t._v(t._s(t.thisdata.delivereddate>1?new Date(t.thisdata.delivereddate).toDateString():1==t.thisdata.delivereddate?"Delivered":"Not delivered...")),a("br"),a("input",{staticClass:"form-control",attrs:{type:"date",name:"delivereddate",id:"delivereddate"}})])]),a("tr",[a("th",[t._v("Status")]),a("td",[t._v(t._s(t.thisdata.status))]),a("th",[t._v("Done")]),a("td",[t._v(t._s(t.thisdata.delivered))])])])]),"DELETED"!=t.thisdata.tracking?a("div",{staticClass:"alert alert-dark d-flex justify-content-around",attrs:{role:"alert"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.delivered()}}},[t._v("Set delivered")]),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.returned()}}},[t._v("Set returned")]),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.lost()}}},[t._v("Set lost")]),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.unknown()}}},[t._v("Set unknown")]),a("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.reset()}}},[t._v("Reset")]),a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.remove()}}},[t._v("Delete")])]):t._e(),"JP"==t.thisdata.carrier?a("div",[a("a",{staticClass:"btn btn-link",attrs:{href:"https://trackings.post.japanpost.jp/services/srv/search/direct?reqCodeNo1="+t.thisdata.tracking+"&searchKind=S002&locale=en",target:"_blank"}},[t._v("JP Tracking")])]):"DHL"==t.thisdata.carrier?a("div",[a("a",{staticClass:"btn btn-link",attrs:{href:"https://www.dhl.com/cgi-bin/tracking.pl?AWB="+t.thisdata.tracking,target:"_blank"}},[t._v("DHL Tracking")])]):"USPS"==t.thisdata.carrier?a("div",[a("a",{staticClass:"btn btn-link",attrs:{href:"https://tools.usps.com/go/TrackConfirmAction?tRef=fullpage&tLc=2&text28777=&tLabels="+t.thisdata.tracking+"%2C&tABt=false",target:"_blank"}},[t._v("USPS Tracking")])]):a("div",[a("a",{staticClass:"btn btn-link",attrs:{href:"https://trackings.post.japanpost.jp/services/srv/search/direct?reqCodeNo1="+t.thisdata.tracking+"&searchKind=S002&locale=en",target:"_blank"}},[t._v("JP")]),a("a",{staticClass:"btn btn-link",attrs:{href:"https://www.dhl.com/cgi-bin/tracking.pl?AWB="+t.thisdata.tracking,target:"_blank"}},[t._v("DHL")]),a("a",{staticClass:"btn btn-link",attrs:{href:"https://tools.usps.com/go/TrackConfirmAction?tRef=fullpage&tLc=2&text28777=&tLabels="+t.thisdata.tracking+"%2C&tABt=false",target:"_blank"}},[t._v("USPS")])]),t.trackdata?a("table",{staticClass:"table table-dark table-striped mt-3"},[t._m(0),a("tbody",t._l(t.trackdata.shipments[0].events,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(new Date(e.timestamp).toDateString()))]),a("td",[t._v(t._s(e.description))]),a("td",[t._v(t._s("string"===typeof e.location?e.location:e.location.address.addressLocality))])])})),0)]):a("pre",[t._v("No data...")])]):a("div",{staticClass:"col"},[a("h2",[t._v("No tracking number...")])])])])},wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{span:"col"}},[t._v("Time stamp")]),a("th",{attrs:{span:"col"}},[t._v("Status")]),a("th",{attrs:{span:"col"}},[t._v("Location")])])])}],Ct=a("5530"),xt={name:"TrackingDetails",data:function(){return{thisdata:null,trackdata:null}},computed:Object(i["c"])(["allTrackingData"]),methods:Object(Ct["a"])(Object(Ct["a"])({},Object(i["b"])(["updateRecord","deleteRecord"])),{},{updatedata:function(){var t=this,e=this.allTrackingData.filter((function(e){return e.tracking==t.$route.query.tracking}));e.length>0&&(this.thisdata=e[0],A.a.get("/api/gettrackingdata?tracking=".concat(this.$route.query.tracking)).then((function(e){e.data.length>0&&(t.trackdata=JSON.parse(e.data))})).catch((function(t){return console.log(t)})))},delivered:function(){var t=this,e=document.getElementById("delivereddate").value;this.updateRecord({action:{country:document.getElementById("country").value,carrier:document.getElementById("carrier").value,shippeddate:document.getElementById("shippeddate").value,delivereddate:e.length>0?e:"1",status:"delivered",delivered:1},tracking:this.thisdata.tracking}).then((function(){return t.updatedata()}))},returned:function(){var t=this;this.updateRecord({action:{country:document.getElementById("country").value,carrier:document.getElementById("carrier").value,shippeddate:document.getElementById("shippeddate").value,delivereddate:"0",status:"returned",delivered:1},tracking:this.thisdata.tracking}).then((function(){return t.updatedata()}))},lost:function(){var t=this;this.updateRecord({action:{country:document.getElementById("country").value,carrier:document.getElementById("carrier").value,shippeddate:document.getElementById("shippeddate").value,delivereddate:"0",status:"lost",delivered:1},tracking:this.thisdata.tracking}).then((function(){return t.updatedata()}))},unknown:function(){var t=this;this.updateRecord({action:{country:document.getElementById("country").value,carrier:document.getElementById("carrier").value,shippeddate:document.getElementById("shippeddate").value,delivereddate:"0",status:"unknown",delivered:1},tracking:this.thisdata.tracking}).then((function(){return t.updatedata()}))},reset:function(){var t=this,e=document.getElementById("country").value,a=document.getElementById("carrier").value,r=document.getElementById("shippeddate").value,n=document.getElementById("delivereddate").value;this.updateRecord({action:{country:e.length>0?e:"JAPAN",carrier:a.length>0?a:"JP",shippeddate:r.length>0?r:"0",delivereddate:n.length>0?n:"0",status:"updating...",delivered:0},tracking:this.thisdata.tracking}).then((function(){return t.updatedata()}))},remove:function(){this.deleteRecord({tracking:this.thisdata.tracking}),this.thisdata={tracking:"DELETED",addeddate:0,lastchecked:0,country:"DELETED",carrier:"DELETED",shippeddate:0,delivereddate:0,status:"DELETED",done:!0,data:""}}}),created:function(){this.$route.query.tracking.length>0&&this.updatedata()}},Dt=xt,Ot=Object(u["a"])(Dt,kt,wt,!1,null,null,null),Et=Ot.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h2",[t._v("Country details for "+t._s(t.$route.query.country))]),t._m(0),a("table",{staticClass:"table table-dark table-striped"},[t._m(1),a("tbody",[t._m(2),t._l(t.data_count.slice(0,4),(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.label))]),a("td",[t._v(" "+t._s(e.dhl.count)+" ( "),a("b",{staticClass:"delivered"},[t._v(t._s(e.dhl.delivered)+"%")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v(t._s(e.dhl.delayed)+"%")]),t._v(", "),a("b",{staticClass:"returned"},[t._v(t._s(e.dhl.returned)+"%")]),t._v(", "),a("b",{staticClass:"lost"},[t._v(t._s(e.dhl.lost)+"%")]),t._v(") ")]),a("td",[t._v(" "+t._s(e.ems.count)+" ( "),a("b",{staticClass:"delivered"},[t._v(t._s(e.ems.delivered)+"%")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v(t._s(e.ems.delayed)+"%")]),t._v(", "),a("b",{staticClass:"returned"},[t._v(t._s(e.ems.returned)+"%")]),t._v(", "),a("b",{staticClass:"lost"},[t._v(t._s(e.ems.lost)+"%")]),t._v(") ")]),a("td",[t._v(" "+t._s(e.other.count)+" ( "),a("b",{staticClass:"delivered"},[t._v(t._s(e.other.delivered)+"%")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v(t._s(e.other.delayed)+"%")]),t._v(", "),a("b",{staticClass:"returned"},[t._v(t._s(e.other.returned)+"%")]),t._v(", "),a("b",{staticClass:"lost"},[t._v(t._s(e.other.lost)+"%")]),t._v(") ")]),a("td",[a("a",{staticClass:"download",attrs:{href:e.downloadlink}},[t._v("Download")])])])})),t._m(3),t._l(t.data_count.slice(4,7),(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(t.months[e.month_number]))]),a("td",[t._v(" "+t._s(e.dhl.count)+" ( "),a("b",{staticClass:"delivered"},[t._v(t._s(e.dhl.delivered)+"%")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v(t._s(e.dhl.delayed)+"%")]),t._v(", "),a("b",{staticClass:"returned"},[t._v(t._s(e.dhl.returned)+"%")]),t._v(", "),a("b",{staticClass:"lost"},[t._v(t._s(e.dhl.lost)+"%")]),t._v(") ")]),a("td",[t._v(" "+t._s(e.ems.count)+" ( "),a("b",{staticClass:"delivered"},[t._v(t._s(e.ems.delivered)+"%")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v(t._s(e.ems.delayed)+"%")]),t._v(", "),a("b",{staticClass:"returned"},[t._v(t._s(e.ems.returned)+"%")]),t._v(", "),a("b",{staticClass:"lost"},[t._v(t._s(e.ems.lost)+"%")]),t._v(") ")]),a("td",[t._v(" "+t._s(e.other.count)+" ( "),a("b",{staticClass:"delivered"},[t._v(t._s(e.other.delivered)+"%")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v(t._s(e.other.delayed)+"%")]),t._v(", "),a("b",{staticClass:"returned"},[t._v(t._s(e.other.returned)+"%")]),t._v(", "),a("b",{staticClass:"lost"},[t._v(t._s(e.other.lost)+"%")]),t._v(") ")]),a("td",[a("a",{staticClass:"download",attrs:{href:e.downloadlink}},[t._v("Download")])])])})),t._m(4),t._l(t.data_count.slice(7,8),(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.label))]),a("td",[t._v(" "+t._s(e.dhl.count)+" ( "),a("b",{staticClass:"delivered"},[t._v(t._s(e.dhl.delivered)+"%")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v(t._s(e.dhl.delayed)+"%")]),t._v(", "),a("b",{staticClass:"returned"},[t._v(t._s(e.dhl.returned)+"%")]),t._v(", "),a("b",{staticClass:"lost"},[t._v(t._s(e.dhl.lost)+"%")]),t._v(") ")]),a("td",[t._v(" "+t._s(e.ems.count)+" ( "),a("b",{staticClass:"delivered"},[t._v(t._s(e.ems.delivered)+"%")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v(t._s(e.ems.delayed)+"%")]),t._v(", "),a("b",{staticClass:"returned"},[t._v(t._s(e.ems.returned)+"%")]),t._v(", "),a("b",{staticClass:"lost"},[t._v(t._s(e.ems.lost)+"%")]),t._v(") ")]),a("td",[t._v(" "+t._s(e.other.count)+" ( "),a("b",{staticClass:"delivered"},[t._v(t._s(e.other.delivered)+"%")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v(t._s(e.other.delayed)+"%")]),t._v(", "),a("b",{staticClass:"returned"},[t._v(t._s(e.other.returned)+"%")]),t._v(", "),a("b",{staticClass:"lost"},[t._v(t._s(e.other.lost)+"%")]),t._v(") ")]),a("td",[a("a",{staticClass:"download",attrs:{href:e.downloadlink}},[t._v("Download")])])])}))],2)]),t._m(5),a("div",{attrs:{id:"graph_area"}})])])])},Tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" ( "),a("b",{staticClass:"delivered"},[t._v("Delivered")]),t._v(", "),a("b",{staticClass:"delayed"},[t._v("Delayed")]),t._v(", "),a("b",{staticClass:"returned"},[t._v("Returned")]),t._v(", "),a("b",{staticClass:"lost"},[t._v("Lost")]),t._v(") ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{span:"col"}}),a("th",{attrs:{span:"col"}},[t._v("DHL")]),a("th",{attrs:{span:"col"}},[t._v("EMS")]),a("th",{attrs:{span:"col"}},[t._v("Air/SAL")]),a("th",{attrs:{span:"col"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"t_blank_row"},[a("td",{staticClass:"t_blank_row",attrs:{colspan:"5"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"t_blank_row"},[a("td",{staticClass:"t_blank_row",attrs:{colspan:"5"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"t_blank_row"},[a("td",{staticClass:"t_blank_row",attrs:{colspan:"5"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticStyle:{color:"black","background-color":"steelblue",padding:"5px"}},[t._v("Shipped")]),a("span",{staticStyle:{color:"black","background-color":"grey",padding:"5px","margin-left":"2px"}},[t._v("Shipping")]),a("span",{staticStyle:{color:"black","background-color":"green",padding:"5px","margin-left":"2px"}},[t._v("Delivered")]),a("span",{staticStyle:{color:"black","background-color":"orange",padding:"5px","margin-left":"2px"}},[t._v("Returned")]),a("span",{staticStyle:{color:"black","background-color":"red",padding:"5px","margin-left":"2px"}},[t._v("Lost")]),a("span",{staticStyle:{color:"white",border:"3px solid orange",padding:"5px","margin-left":"10px"}},[t._v("DHL")]),a("span",{staticStyle:{color:"white",border:"3px solid red",padding:"5px","margin-left":"2px"}},[t._v("EMS")]),a("span",{staticStyle:{color:"white",border:"3px solid white",padding:"5px","margin-left":"2px"}},[t._v("Air/SAL")])])}],At=(a("d81d"),a("5698")),Lt={name:"CountryDetails",computed:Object(i["c"])(["allTrackingData"]),data:function(){var t=this.$route.query.country,e=Date.now(),a=864e5,r=new Date(e),n={this_month_start:new Date(r.getFullYear(),r.getMonth(),1,0,0,0,0).getTime(),last_month_start:new Date(r.getFullYear(),r.getMonth()-1,1,0,0,0,0).getTime(),lastlast_month_start:new Date(r.getFullYear(),r.getMonth()-2,1,0,0,0,0).getTime()};return{months:["January","February","March","April","May","June","July","August","September","October","November","December"],data_count:[{label:"Last 7 days",downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate,delivereddate,done&shippedfrom=".concat(e-7*a,"&shippedto=").concat(e,"&country=").concat(t),start:e-7*a,end:e,dhl:{count:0,delivered:0,delayed:0,returned:0,lost:0},ems:{count:0,delivered:0,delayed:0,returned:0,lost:0},other:{count:0,delivered:0,delayed:0,returned:0,lost:0}},{label:"7-30 days ago",downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate,delivereddate,done&shippedfrom=".concat(e-30*a,"&shippedto=").concat(e-7*a,"&country=").concat(t),start:e-30*a,end:e-7*a,dhl:{count:0,delivered:0,delayed:0,returned:0,lost:0},ems:{count:0,delivered:0,delayed:0,returned:0,lost:0},other:{count:0,delivered:0,delayed:0,returned:0,lost:0}},{label:"30-90 days ago",downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate,delivereddate,done&shippedfrom=".concat(e-90*a,"&shippedto=").concat(e-30*a,"&country=").concat(t),start:e-90*a,end:e-30*a,dhl:{count:0,delivered:0,delayed:0,returned:0,lost:0},ems:{count:0,delivered:0,delayed:0,returned:0,lost:0},other:{count:0,delivered:0,delayed:0,returned:0,lost:0}},{label:"More than 90 days ago",downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate,delivereddate,done&shippedfrom=".concat(0,"&shippedto=",e-90*a,"&country=").concat(t),start:0,end:e-90*a,dhl:{count:0,delivered:0,delayed:0,returned:0,lost:0},ems:{count:0,delivered:0,delayed:0,returned:0,lost:0},other:{count:0,delivered:0,delayed:0,returned:0,lost:0}},{label:"This month",month_number:r.getMonth(),downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate,delivereddate,done&shippedfrom=".concat(n.this_month_start,"&shippedto=").concat(e,"&country=").concat(t),start:n.this_month_start,end:e,dhl:{count:0,delivered:0,delayed:0,returned:0,lost:0},ems:{count:0,delivered:0,delayed:0,returned:0,lost:0},other:{count:0,delivered:0,delayed:0,returned:0,lost:0}},{label:"Last month",month_number:r.getMonth()>1?r.getMonth()-1:11,downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate,delivereddate,done&shippedfrom=".concat(n.last_month_start,"&shippedto=").concat(n.this_month_start,"&country=").concat(t),start:n.last_month_start,end:n.this_month_start,dhl:{count:0,delivered:0,delayed:0,returned:0,lost:0},ems:{count:0,delivered:0,delayed:0,returned:0,lost:0},other:{count:0,delivered:0,delayed:0,returned:0,lost:0}},{label:"Last last month",month_number:r.getMonth()>2?r.getMonth()-2:r.getMonth()+10,downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate,delivereddate,done&shippedfrom=".concat(n.lastlast_month_start,"&shippedto=").concat(n.last_month_start,"&country=").concat(t),start:n.lastlast_month_start,end:n.last_month_start,dhl:{count:0,delivered:0,delayed:0,returned:0,lost:0},ems:{count:0,delivered:0,delayed:0,returned:0,lost:0},other:{count:0,delivered:0,delayed:0,returned:0,lost:0}},{label:"All",downloadlink:"/api/getcsv?columns=tracking,country,status,shippeddate,delivereddate,done&shippedfrom=".concat(0,"&shippedto=",e,"&country=").concat(t),start:0,end:e,dhl:{count:0,delivered:0,delayed:0,returned:0,lost:0},ems:{count:0,delivered:0,delayed:0,returned:0,lost:0},other:{count:0,delivered:0,delayed:0,returned:0,lost:0}}],graph_data:[],countrydata:[]}},methods:{updater:function(){var t=this;this.countrydata=this.allTrackingData.filter((function(e){return"INVALID"!=e.carrier&&e.country==t.$route.query.country})),this.data_count.forEach((function(e){t.countrydata.forEach((function(t){var a={delivered:t.delivered&&t.delivereddate>0?1:0,delayed:t.delivered?0:1,returned:t.delivered&&0==t.delivereddate&&"returned"==t.status?1:0,lost:t.delivered&&0==t.delivereddate&&"lost"==t.status?1:0};t.shippeddate>e.start&&e.end>=t.shippeddate&&("DHL"==t.carrier&&(e.dhl.count++,e.dhl.delivered+=a.delivered,e.dhl.delayed+=a.delayed,e.dhl.returned+=a.returned,e.dhl.lost+=a.lost),0==t.tracking.indexOf("EM")&&(e.ems.count++,e.ems.delivered+=a.delivered,e.ems.delayed+=a.delayed,e.ems.returned+=a.returned,e.ems.lost+=a.lost),0!=t.tracking.indexOf("EM")&&"DHL"!=t.carrier&&(e.other.count++,e.other.delivered+=a.delivered,e.other.delayed+=a.delayed,e.other.returned+=a.returned,e.other.lost+=a.lost))}));var a=(0==e.dhl.count?1:e.dhl.count)/1e4;e.dhl.delivered=Math.round(e.dhl.delivered/a)/100,e.dhl.delayed=Math.round(e.dhl.delayed/a)/100,e.dhl.returned=Math.round(e.dhl.returned/a)/100,e.dhl.lost=Math.round(e.dhl.lost/a)/100,a=(0==e.ems.count?1:e.ems.count)/1e4,e.ems.delivered=Math.round(e.ems.delivered/a)/100,e.ems.delayed=Math.round(e.ems.delayed/a)/100,e.ems.returned=Math.round(e.ems.returned/a)/100,e.ems.lost=Math.round(e.ems.lost/a)/100,a=(0==e.other.count?1:e.other.count)/1e4,e.other.delivered=Math.round(e.other.delivered/a)/100,e.other.delayed=Math.round(e.other.delayed/a)/100,e.other.returned=Math.round(e.other.returned/a)/100,e.other.lost=Math.round(e.other.lost/a)/100}))},drawgraph:function(){var t=this.graph_data,e={top:20,right:20,bottom:30,left:40},a=960-e.left-e.right,r=500-e.top-e.bottom,n=At["g"]().range([0,a]).padding(.1),s=At["h"]().range([r,0]),i=At["j"]("#graph_area").append("svg").attr("width",a+e.left+e.right).attr("height",r+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")");n.domain(t.map((function(t,e){return e}))),s.domain([0,At["e"](t,(function(t){return t.shipped+t.shipping+t.delivered+t.returned+t.lost}))]),i.selectAll(".lost").data(t).enter().append("rect").attr("class","lost").attr("fill","red").attr("x",(function(t,e){return n(e)})).attr("width",n.bandwidth()).attr("y",(function(t){return s(t.shipped+t.shipping+t.delivered+t.returned+t.lost)})).attr("height",(function(t){return r-s(t.shipped+t.shipping+t.delivered+t.returned+t.lost)})),i.selectAll(".returned").data(t).enter().append("rect").attr("class","returned").attr("fill","orange").attr("x",(function(t,e){return n(e)})).attr("width",n.bandwidth()).attr("y",(function(t){return s(t.shipped+t.shipping+t.delivered+t.returned)})).attr("height",(function(t){return r-s(t.shipped+t.shipping+t.delivered+t.returned)})),i.selectAll(".shipped").data(t).enter().append("rect").attr("class","shipped").attr("fill","steelblue").attr("x",(function(t,e){return n(e)})).attr("width",n.bandwidth()).attr("y",(function(t){return s(t.shipped+t.shipping+t.delivered)})).attr("height",(function(t){return r-s(t.shipped+t.shipping+t.delivered)})),i.selectAll(".shipping").data(t).enter().append("rect").attr("class","shipping").attr("fill","grey").attr("x",(function(t,e){return n(e)})).attr("width",n.bandwidth()).attr("y",(function(t){return s(t.shipping+t.delivered)})).attr("height",(function(t){return r-s(t.shipping+t.delivered)})),i.selectAll(".delivered").data(t).enter().append("rect").attr("class","delivered").attr("fill","green").attr("x",(function(t,e){return n(e)})).attr("width",n.bandwidth()).attr("y",(function(t){return s(t.delivered)})).attr("height",(function(t){return r-s(t.delivered)})),i.append("g").attr("transform","translate(0,"+r+")").call(At["a"](n)),i.append("g").call(At["b"](s)),s.domain([0,At["e"](t,(function(t){return At["e"]([t.shipping_time.dhl.averagedays,t.shipping_time.ems.averagedays,t.shipping_time.other.averagedays])}))]),i.append("path").datum(t).attr("fill","none").attr("stroke","orange").attr("stroke-width",3).attr("d",At["d"]().x((function(t,e){return n(e)})).y((function(t){return s(t.shipping_time.dhl.averagedays)}))),i.append("path").datum(t).attr("fill","none").attr("stroke","red").attr("stroke-width",3).attr("d",At["d"]().x((function(t,e){return n(e)})).y((function(t){return s(t.shipping_time.ems.averagedays)}))),i.append("path").datum(t).attr("fill","none").attr("stroke","white").attr("stroke-width",3).attr("d",At["d"]().x((function(t,e){return n(e)})).y((function(t){return s(t.shipping_time.other.averagedays)}))),i.append("g").call(At["c"](s))},grapher:function(){var t=this,e=864e5,a=7*e,r=new Date,n=new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay(),0,0,0,0).getTime();this.countrydata.forEach((function(r){var s=n,i=n+a,o=0;while(r.shippeddate<i){if(o+1>t.graph_data.length&&t.graph_data.push({shipped:0,shipping:0,delivered:0,returned:0,lost:0,shipping_time:{dhl:{count:0,totaldays:0,averagedays:0},ems:{count:0,totaldays:0,averagedays:0},other:{count:0,totaldays:0,averagedays:0}}}),"returned"==r.status)r.shippeddate>=s&&r.shippeddate<i&&t.graph_data[o].returned++;else if("lost"==r.status)r.shippeddate>=s&&r.shippeddate<i&&t.graph_data[o].lost++;else if(r.shippeddate>=s&&r.shippeddate<i&&(r.delivereddate>=i||r.delivereddate<=1)&&t.graph_data[o].shipped++,r.shippeddate<s&&(r.delivereddate>=i||0==r.delivereddate)&&t.graph_data[o].shipping++,r.delivereddate>=s&&r.delivereddate<i){t.graph_data[o].delivered++;var l=(r.delivereddate-r.shippeddate)/e;"DHL"==r.carrier?(t.graph_data[o].shipping_time.dhl.count++,t.graph_data[o].shipping_time.dhl.totaldays+=l,t.graph_data[o].shipping_time.dhl.averagedays=t.graph_data[o].shipping_time.dhl.totaldays/t.graph_data[o].shipping_time.dhl.count):0==r.tracking.indexOf("EM")?(t.graph_data[o].shipping_time.ems.count++,t.graph_data[o].shipping_time.ems.totaldays+=l,t.graph_data[o].shipping_time.ems.averagedays=t.graph_data[o].shipping_time.ems.totaldays/t.graph_data[o].shipping_time.ems.count):(t.graph_data[o].shipping_time.other.count++,t.graph_data[o].shipping_time.other.totaldays+=l,t.graph_data[o].shipping_time.other.averagedays=t.graph_data[o].shipping_time.other.totaldays/t.graph_data[o].shipping_time.other.count)}i=s,s-=a,o++}})),setTimeout(this.drawgraph,1e3)}},created:function(){this.updater(),this.grapher()}},Mt=Lt,jt=(a("55d4"),Object(u["a"])(Mt,St,Tt,!1,null,"1321c4eb",null)),It=jt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h2",[t._v("Invalid records")]),a("TrackingList",{attrs:{data:t.invalidTrackings()}}),a("h2",[t._v("Received before shipped records")]),a("TrackingList",{attrs:{data:t.timetravelTrackings()}}),a("h2",[t._v("Very old records (unclosed, shipped over 6 months ago)")]),a("TrackingList",{attrs:{data:t.oldUnclosedTrackings()}})],1)])])},Rt=[],$t={name:"Maintenance",components:{TrackingList:V},computed:Object(i["c"])(["allTrackingData"]),methods:{invalidTrackings:function(){return this.allTrackingData.filter((function(t){return"INVALID"==t.carrier}))},timetravelTrackings:function(){return this.allTrackingData.filter((function(t){return t.delivereddate<t.shippeddate&&1==t.delivered&&t.delivereddate>1}))},oldUnclosedTrackings:function(){var t=Date.now()-15552e6;return this.allTrackingData.filter((function(e){return t>e.shippeddate&&0==e.delivered}))}}},Nt=$t,Ut=Object(u["a"])(Nt,Pt,Rt,!1,null,null,null),Bt=Ut.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h2",[t._v("Runtime log")]),a("p",[t._v("Server started at "+t._s(new Date(t.logdata.start).toDateString())+".")]),a("div",{staticClass:"accordion",attrs:{id:"accordion"}},t._l(t.logdata.entries,(function(e,r){return a("div",{key:r,staticClass:"card text-white bg-dark"},[a("div",{staticClass:"card-header",attrs:{id:"heading"+r}},[a("h2",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link link-color",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapse"+r,"aria-expanded":"false","aria-controls":"collapse"+r}},[t._v(t._s(e.status)+" ("+t._s(new Date(e.timestamp).toDateString())+")")])])]),a("div",{staticClass:"collapse",attrs:{id:"collapse"+r,"aria-labelledby":"heading"+r,"data-parent":"#accordion"}},[a("div",{staticClass:"card-body"},[a("pre",[t._v(t._s(e.text))])])])])})),0)])])])},Ft=[],qt={name:"RuntimeLog",data:function(){return{logdata:{}}},created:function(){var t=this;A.a.get("/api/getlog").then((function(e){return t.logdata=e.data})).catch((function(t){return console.log(t)}))}},Jt=qt,zt=Object(u["a"])(Jt,Ht,Ft,!1,null,null,null),Vt=zt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("form",{on:{submit:t.processForm}},[a("label",{attrs:{for:"records"}},[t._v("Records to add")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.records,expression:"records"}],staticClass:"form-control",attrs:{name:"records",id:"records",cols:"30",rows:"10",required:""},domProps:{value:t.records},on:{input:function(e){e.target.composing||(t.records=e.target.value)}}}),a("label",{attrs:{for:"date"}},[t._v("Shipped date (default: Now)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.timestamp,expression:"timestamp"}],staticClass:"form-control",attrs:{type:"date",name:"date",id:"date"},domProps:{value:t.timestamp},on:{input:function(e){e.target.composing||(t.timestamp=e.target.value)}}}),a("label",{attrs:{for:"label"}},[t._v("Group label (default: none)")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],staticClass:"form-control",attrs:{name:"label",id:"label"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.label=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1"}},[t._v("none")]),t._l(t.grouplabels,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.label)+" ")])}))],2),a("label",{attrs:{for:"country"}},[t._v("Country (default: UNKNOWN)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",attrs:{type:"text",name:"country",id:"country"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}}),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Queue items"}})]),a("div",{attrs:{"v-if":t.data_to_send.length>0}},[a("p",{attrs:{id:"queue_label"}},[t._v(t._s(t.data_to_send.length)+" queued items... (Recommended: max ~6000)")]),a("button",{staticClass:"btn btn-primary",attrs:{id:"submit_button"},on:{click:t.SendToServer}},[t._v("Send to server")])])])])])},Yt=[],Wt=(a("ac1f"),a("1276"),{name:"AddRecords",data:function(){return{records:"",timestamp:"",label:"",country:"",data_to_send:[]}},computed:Object(i["c"])(["grouplabels"]),methods:Object(Ct["a"])(Object(Ct["a"])({},Object(i["b"])(["addRecords"])),{},{processForm:function(t){var e=this;t.preventDefault();var a="UNKNOWN";this.country.length>0&&(a=this.country,this.country="");var r=Date.now();if(this.timestamp.length>0){var n=this.timestamp.split("-"),s=new Date,i=new Date(parseInt(n[0]),parseInt(n[1])-1,parseInt(n[2]),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds());r=i.getTime()}var o=this.records.split(/[\r\n]+/),l=parseInt(this.label);o.forEach((function(t){if(t.indexOf(",")>0){var n=t.split(",");e.data_to_send.push({id:n[0],ship_dts:r,label:l,country:n[1]})}else if(t.indexOf("\t")>0){var s=t.split("\t");e.data_to_send.push({id:s[2],ship_dts:r,label:l,country:"UNITED STATES"})}else e.data_to_send.push({id:t,ship_dts:r,label:l,country:a})})),this.records=""},SendToServer:function(){var t=this;this.data_to_send.length>0&&(document.getElementById("submit_button").disabled=!0,this.addRecords({records:this.data_to_send}).then((function(){document.getElementById("submit_button").disabled=!1,t.data_to_send=[]})))}})}),Kt=Wt,Zt=(a("c0f7"),Object(u["a"])(Kt,Gt,Yt,!1,null,"673d9931",null)),Qt=Zt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t.unknown_countries.length>0?a("div",{staticClass:"section"},[a("h2",[t._v("Unknown countries")]),t._l(t.unknown_countries,(function(e,r){return a("div",{key:r,staticClass:"section_entry"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v(t._s(e))])]),a("select",{staticClass:"form-control",attrs:{id:e},on:{change:function(a){return t.update(e)}}},t._l(t.countryToCode,(function(e,r){return a("option",{key:r,domProps:{value:e.country_code}},[t._v(" "+t._s(e.country_name)+" ")])})),0)])])}))],2):t._e(),a("table",{staticClass:"table table-dark table-striped"},[t._m(0),a("tbody",t._l(t.countryToCode,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.country_code))]),a("td",[t._v(t._s(e.country_name))]),a("td",[t._v(t._s(e.baseentry?"":""))])])})),0)])])])])},te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticStyle:{position:"sticky",top:"0","background-color":"#888888"}},[a("tr",[a("th",{attrs:{span:"col"}},[t._v("Code")]),a("th",{attrs:{span:"col"}},[t._v("Name")]),a("th",{attrs:{span:"col"}},[t._v("Base entry")])])])}],ee={name:"CountryList",data:function(){return{unknown_countries:[]}},computed:Object(i["c"])(["countryToCode","allTrackingData"]),created:function(){var t=this,e=[];this.countryToCode.forEach((function(t){e.push(t.country_name)})),this.allTrackingData.forEach((function(a){-1==e.indexOf(a.country)&&-1==t.unknown_countries.indexOf(a.country)&&"UNKNOWN"!=a.country&&t.unknown_countries.push(a.country)}))},methods:Object(Ct["a"])(Object(Ct["a"])({},Object(i["b"])(["addRecord"])),{},{update:function(t){var e=document.getElementById(t);e.style.backgroundColor="green",this.addRecord({country_name:t,country_code:e.value})}})},ae=ee,re=(a("355b"),Object(u["a"])(ae,Xt,te,!1,null,"53d60dcf",null)),ne=re.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){return t.copytable()}}},[t._v("Zendesk table (copy)")]),a("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){return t.copynomethods()}}},[t._v("No available shipping methods (copy)")]),a("a",{staticClass:"btn btn-primary form-control",attrs:{href:"/api/shipping_country_csv"}},[t._v("Shipping method csv")]),a("table",{staticClass:"table table-dark table-striped"},[t._m(0),a("tbody",t._l(t.allShippingMethods,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.country_name))]),a("td",[a("select",{class:"status"+e.ems_available,attrs:{id:"ems_"+e.country_name},on:{change:function(a){return t.update("ems_"+e.country_name)}}},[a("option",{attrs:{value:"0"},domProps:{selected:0==e.ems_available}},[t._v("Unavailable")]),a("option",{attrs:{value:"1"},domProps:{selected:1==e.ems_available}},[t._v("Available")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.ems_available}},[t._v("Suspended")]),a("option",{attrs:{value:"3"},domProps:{selected:3==e.ems_available}},[t._v("Blocked")])])]),a("td",[a("select",{class:"status"+e.airsp_available,attrs:{id:"airsp_"+e.country_name},on:{change:function(a){return t.update("airsp_"+e.country_name)}}},[a("option",{attrs:{value:"0"},domProps:{selected:0==e.airsp_available}},[t._v("Unavailable")]),a("option",{attrs:{value:"1"},domProps:{selected:1==e.airsp_available}},[t._v("Available")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.airsp_available}},[t._v("Suspended")]),a("option",{attrs:{value:"3"},domProps:{selected:3==e.airsp_available}},[t._v("Blocked")])])]),a("td",[a("select",{class:"status"+e.salspr_available,attrs:{id:"salspr_"+e.country_name},on:{change:function(a){return t.update("salspr_"+e.country_name)}}},[a("option",{attrs:{value:"0"},domProps:{selected:0==e.salspr_available}},[t._v("Unavailable")]),a("option",{attrs:{value:"1"},domProps:{selected:1==e.salspr_available}},[t._v("Available")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.salspr_available}},[t._v("Suspended")]),a("option",{attrs:{value:"3"},domProps:{selected:3==e.salspr_available}},[t._v("Blocked")])])]),a("td",[a("select",{class:"status"+e.salspu_available,attrs:{id:"salspu_"+e.country_name},on:{change:function(a){return t.update("salspu_"+e.country_name)}}},[a("option",{attrs:{value:"0"},domProps:{selected:0==e.salspu_available}},[t._v("Unavailable")]),a("option",{attrs:{value:"1"},domProps:{selected:1==e.salspu_available}},[t._v("Available")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.salspu_available}},[t._v("Suspended")]),a("option",{attrs:{value:"3"},domProps:{selected:3==e.salspu_available}},[t._v("Blocked")])])]),a("td",[a("select",{class:"status"+e.salp_available,attrs:{id:"salp_"+e.country_name},on:{change:function(a){return t.update("salp_"+e.country_name)}}},[a("option",{attrs:{value:"0"},domProps:{selected:0==e.salp_available}},[t._v("Unavailable")]),a("option",{attrs:{value:"1"},domProps:{selected:1==e.salp_available}},[t._v("Available")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.salp_available}},[t._v("Suspended")]),a("option",{attrs:{value:"3"},domProps:{selected:3==e.salp_available}},[t._v("Blocked")])])]),a("td",[a("select",{class:"status"+e.dhl_available,attrs:{id:"dhl_"+e.country_name},on:{change:function(a){return t.update("dhl_"+e.country_name)}}},[a("option",{attrs:{value:"0"},domProps:{selected:0==e.dhl_available}},[t._v("Unavailable")]),a("option",{attrs:{value:"1"},domProps:{selected:1==e.dhl_available}},[t._v("Available")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.dhl_available}},[t._v("Suspended")]),a("option",{attrs:{value:"3"},domProps:{selected:3==e.dhl_available}},[t._v("Blocked")])])]),a("td",[a("select",{class:"status"+e.airp_available,attrs:{id:"airp_"+e.country_name},on:{change:function(a){return t.update("airp_"+e.country_name)}}},[a("option",{attrs:{value:"0"},domProps:{selected:0==e.airp_available}},[t._v("Unavailable")]),a("option",{attrs:{value:"1"},domProps:{selected:1==e.airp_available}},[t._v("Available")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.airp_available}},[t._v("Suspended")]),a("option",{attrs:{value:"3"},domProps:{selected:3==e.airp_available}},[t._v("Blocked")])])]),a("td",[a("select",{class:"status"+e.airspu_available,attrs:{id:"airspu_"+e.country_name},on:{change:function(a){return t.update("airspu_"+e.country_name)}}},[a("option",{attrs:{value:"0"},domProps:{selected:0==e.airspu_available}},[t._v("Unavailable")]),a("option",{attrs:{value:"1"},domProps:{selected:1==e.airspu_available}},[t._v("Available")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.airspu_available}},[t._v("Suspended")]),a("option",{attrs:{value:"3"},domProps:{selected:3==e.airspu_available}},[t._v("Blocked")])])]),a("td",[a("select",{class:"status"+e.sp_available,attrs:{id:"sp_"+e.country_name},on:{change:function(a){return t.update("sp_"+e.country_name)}}},[a("option",{attrs:{value:"0"},domProps:{selected:0==e.sp_available}},[t._v("Unavailable")]),a("option",{attrs:{value:"1"},domProps:{selected:1==e.sp_available}},[t._v("Available")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.sp_available}},[t._v("Suspended")]),a("option",{attrs:{value:"3"},domProps:{selected:3==e.sp_available}},[t._v("Blocked")])])])])})),0)])])])])},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"sticky-top",staticStyle:{"background-color":"#888888"}},[a("tr",[a("th",{attrs:{span:"col"}},[t._v("Name")]),a("th",{attrs:{span:"col"}},[t._v("EMS")]),a("th",{attrs:{span:"col"}},[t._v("ASP")]),a("th",{attrs:{span:"col"}},[t._v("SAL SP Reg.")]),a("th",{attrs:{span:"col"}},[t._v("SAL SP Ureg.")]),a("th",{attrs:{span:"col"}},[t._v("SAL Parcel")]),a("th",{attrs:{span:"col"}},[t._v("DHL")]),a("th",{attrs:{span:"col"}},[t._v("Air Parcel")]),a("th",{attrs:{span:"col"}},[t._v("ASP Ureg.")]),a("th",{attrs:{span:"col"}},[t._v("Surface Parcel")])])])}],oe={name:"ShippingList",data:function(){return{shippings:[]}},computed:Object(i["c"])(["allShippingMethods"]),methods:Object(Ct["a"])(Object(Ct["a"])({},Object(i["b"])(["updateShippingRecord"])),{},{update:function(t){var e=document.getElementById(t);e.style.backgroundColor="white",this.updateShippingRecord({this_id:t,value:e.value})},copytable:function(){this.allShippingMethods.sort((function(t,e){return t.country_name<e.country_name?-1:t.country_name>e.country_name?1:0}));var t='<table style="border-collapse: collapse; color: black; background-color: white;"><tbody>',e=0;function a(e){e.clipboardData.setData("text/html",t),e.clipboardData.setData("text/plain",t),e.preventDefault()}this.allShippingMethods.forEach((function(a){e%20==0&&(t+='<tr><th style="border: 1px solid black; width: 10%;">Country</th><th style="border: 1px solid black; width: 9%;">EMS</th><th style="border: 1px solid black; width: 9%;">DHL</th><th style="border: 1px solid black; width: 9%;">Air Small Packet Registered</th><th style="border: 1px solid black; width: 9%;">Air Small Packet Unregistered</th><th style="border: 1px solid black; width: 9%;">Air Parcel</th><th style="border: 1px solid black; width: 9%;">SAL Registered</th><th style="border: 1px solid black; width: 9%;">SAL Unregistered</th><th style="border: 1px solid black; width: 9%;">SAL Parcel</th><th style="border: 1px solid black; width: 9%;">Surface Parcel</th><th style="border: 1px solid black; width: 9%;">Other</th></tr>',e++);var r="";"UNITED STATES"==a.country_name&&(r="-Surface Mail (Premium)"),t+='<tr style="background-color:'.concat(e%2==0?"#FFFFFF":"#EEEEEE",';"><td style="text-align: center; border: 1px solid black;">').concat(a.country_name,'</td><td style="text-align: center; border: 1px solid black;">').concat(1==a.ems_available?"":"",'</td><td style="text-align: center; border: 1px solid black;">').concat(1==a.dhl_available?"":"",'</td><td style="text-align: center; border: 1px solid black;">').concat(1==a.airsp_available?"":"",'</td><td style="text-align: center; border: 1px solid black;">').concat(1==a.airspu_available?"":"",'</td><td style="text-align: center; border: 1px solid black;">').concat(1==a.airp_available?"":"",'</td><td style="text-align: center; border: 1px solid black;">').concat(1==a.salspr_available?"":"",'</td><td style="text-align: center; border: 1px solid black;">').concat(1==a.salspu_available?"":"",'</td><td style="text-align: center; border: 1px solid black;">').concat(1==a.salp_available?"":"",'</td><td style="text-align: center; border: 1px solid black;">').concat(1==a.sp_available?"":"",'</td><td style="text-align: center; border: 1px solid black;">').concat(r,"</td></tr>"),e++})),t+="</tbody></table>",document.addEventListener("copy",a),document.execCommand("copy"),document.removeEventListener("copy",a)},copynomethods:function(){this.allShippingMethods.sort((function(t,e){return t.country_name<e.country_name?-1:t.country_name>e.country_name?1:0}));var t="",e="",a="DHL";function r(e){e.clipboardData.setData("text/html",t),e.clipboardData.setData("text/plain",t),e.preventDefault()}this.allShippingMethods.forEach((function(t){var r=!1,n=!1;"UNITED STATES"==t.country_name||"CANADA"==t.country_name||"AUSTRALIA"==t.country_name?r=!0:"RUSSIAN FEDERATION"!=t.country_name&&"BRAZIL"!=t.country_name||(r=!0),1!=t.ems_available&&1!=t.airsp_available&&1!=t.airspu_available&&1!=t.salspr_available&&1!=t.salspu_available&&1!=t.salp_available&&1!=t.airp_available&&1!=t.sp_available||(r=!0),1==t.dhl_available&&(n=!0),r||(n?a+="\n".concat(t.country_name):e+="\n".concat(t.country_name))})),t="".concat(e,"\n\n").concat(a),document.addEventListener("copy",r),document.execCommand("copy"),document.removeEventListener("copy",r)}})},le=oe,de=(a("ee4c"),Object(u["a"])(le,se,ie,!1,null,"603e8835",null)),ce=de.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("table",{staticClass:"table table-dark table-striped"},[t._m(0),a("tbody",t._l(t.allShippingMethods,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.country_name))]),a("td",[t._v(t._s(e.ems_averagetime>0?e.ems_averagetime:""))]),a("td",[t._v(t._s(e.airsp_averagetime>0?e.airsp_averagetime:""))]),a("td",[t._v(t._s(e.salspr_averagetime>0?e.salspr_averagetime:""))]),a("td",[t._v(t._s(e.salspu_averagetime>0?e.salspu_averagetime:""))]),a("td",[t._v(t._s(e.salp_averagetime>0?e.salp_averagetime:""))]),a("td",[t._v(t._s(e.dhl_averagetime>0?e.dhl_averagetime:""))]),a("td",[t._v(t._s(e.airp_averagetime>0?e.airp_averagetime:""))])])})),0)]),a("pre",[t._v(t._s(JSON.stringify(t.allShippingMethods[0],null,2)))])])])])},pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticStyle:{position:"sticky",top:"0","background-color":"#888888"}},[a("tr",[a("th",{attrs:{span:"col"}},[t._v("Country")]),a("th",{attrs:{span:"col"}},[t._v("EMS")]),a("th",{attrs:{span:"col"}},[t._v("ASP")]),a("th",{attrs:{span:"col"}},[t._v("SAL SP Reg.")]),a("th",{attrs:{span:"col"}},[t._v("SAL SP Ureg.")]),a("th",{attrs:{span:"col"}},[t._v("SAL Parcel")]),a("th",{attrs:{span:"col"}},[t._v("DHL")]),a("th",{attrs:{span:"col"}},[t._v("Air Parcel")])])])}],ve={name:"ShippingRatingList",data:function(){return{shippings:[]}},computed:Object(i["c"])(["allShippingMethods"])},he=ve,_e=(a("dee0"),Object(u["a"])(he,ue,pe,!1,null,"07e2daab",null)),me=_e.exports,be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h1",[t._v("Free search")]),a("p",[t._v("*Tracking number search")]),a("form",{on:{submit:t.analyze}},[a("label",{attrs:{for:"records1"}},[t._v("Records to analyze")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.records,expression:"records"}],staticClass:"form-control",attrs:{name:"records1",id:"records1",cols:"30",rows:"10",required:""},domProps:{value:t.records},on:{input:function(e){e.target.composing||(t.records=e.target.value)}}}),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])]),a("div",{staticClass:"col"},[a("h1",[t._v("Label search")]),a("p",[t._v("*Label search")]),a("form",{on:{submit:t.analyzelabel}},[a("label",{attrs:{for:"records2"}},[t._v("Label to analyze")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],staticClass:"form-control",attrs:{name:"records2",id:"records2",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.label=e.target.multiple?a:a[0]}}},[t._l(t.grouplabels,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.label)+" ")])})),a("option",{attrs:{value:"AIT"}},[t._v("All AIT")])],2),a("label",{attrs:{for:"delivereddate"}},[t._v("Delivered date range")]),t._m(0),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})]),a("button",{staticClass:"btn btn-primary mt-3",on:{click:function(e){return t.AnalyzeAllLabels()}}},[t._v('Analyze all "AIT"')])])]),t.display?a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h1",[t._v("Result")]),a("div",{attrs:{id:"accordion"}},[a("div",{staticClass:"card text-white bg-dark"},[t._m(1),a("div",{staticClass:"collapse show",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordion"}},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-dark table-striped"},[t._m(2),a("tbody",[a("tr",[a("td",{staticClass:"delivered"},[t._v(" "+t._s(t.display.summary.delivered)+" ("+t._s(Math.round(1e4*t.display.summary.delivered/t.display.summary.total_records)/100)+"%) "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.Copy("delivered_list")}}},[t._v("Copy")])]),a("td",{staticClass:"delayed"},[t._v(" "+t._s(t.display.summary.shipped)+" ("+t._s(Math.round(1e4*t.display.summary.shipped/t.display.summary.total_records)/100)+"%) "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.Copy("shipped_list")}}},[t._v("Copy")])]),a("td",{staticClass:"returned"},[t._v(" "+t._s(t.display.summary.returned)+" ("+t._s(Math.round(1e4*t.display.summary.returned/t.display.summary.total_records)/100)+"%) "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.Copy("returned_list")}}},[t._v("Copy")])]),a("td",{staticClass:"lost"},[t._v(" "+t._s(t.display.summary.lost)+" ("+t._s(Math.round(1e4*t.display.summary.lost/t.display.summary.total_records)/100)+"%) "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.Copy("lost_list")}}},[t._v("Copy")])]),a("td",[t._v(t._s(t.display.summary.total_records))])])])]),a("b",{attrs:{"v-if":t.display.summary.unchecked_records}},[t._v("Unchecked records: "+t._s(t.display.summary.unchecked_records)+" *Be careful if high!!")])])])]),a("div",{staticClass:"card text-white bg-dark"},[t._m(3),a("div",{staticClass:"collapse",attrs:{id:"collapseTwo","aria-labelledby":"headingTwo","data-parent":"#accordion"}},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-dark table-striped"},[t._m(4),a("tbody",[a("tr",[a("td",[t._v(" "+t._s(Math.round(t.display.times.delivered.totaltime_ms/t.display.times.delivered.number/100/60/60/24)/10)+" ")]),a("td",[t._v(" "+t._s(Math.round((t.display.times.delivered.totaltime_ms+t.display.times.inshipment.totaltime_ms)/(t.display.times.delivered.number+t.display.times.inshipment.number)/100/60/60/24)/10)+" ")]),a("td",[t._v(" "+t._s(Math.round(t.display.times.inshipment.totaltime_ms/t.display.times.inshipment.number/100/60/60/24)/10)+" ")])])])]),a("div",{attrs:{id:"graph_area"}}),a("b",[t._v("*Note: Data will only be accurate after most packages has been delivered.")])])])]),a("div",{staticClass:"card text-white bg-dark"},[t._m(5),a("div",{staticClass:"collapse",attrs:{id:"collapseThree","aria-labelledby":"headingThree","data-parent":"#accordion"}},[a("div",{staticClass:"card-body"},[a("h2",[t._v("Delivered statuses")]),a("table",{staticClass:"table table-dark table-striped"},[t._m(6),a("tbody",[a("tr",[a("td",[t._v(t._s(t.display.status.delivered.door))]),a("td",[t._v(t._s(t.display.status.delivered.post_locker))]),a("td",[t._v(t._s(t.display.status.delivered.reception_person))]),a("td",[t._v(t._s(t.display.status.delivered.unknown))])])])]),a("h2",[t._v("In shipment statuses")]),a("table",{staticClass:"table table-dark table-striped"},[t._m(7),a("tbody",[a("tr",[a("td",[t._v(t._s(t.display.status.inshipment.prepare_shipping))]),a("td",[t._v(t._s(t.display.status.inshipment.in_tansit))]),a("td",[t._v(" "+t._s(t.display.status.inshipment.delivery_attempt_await_pickup)+" ")]),a("td",[t._v(t._s(t.display.status.inshipment.other))])])])]),a("h1",[t._v("Status list")]),a("ul",t._l(t.status_list,(function(e,r){return a("li",{key:r},[t._v(" "+t._s(e.status)+" ("+t._s(e.count)+") ")])})),0),a("h1",[t._v("Country list")]),a("ul",t._l(t.country_list,(function(e,r){return a("li",{key:r},[t._v(" "+t._s(e.country)+" ("+t._s(e.count)+") ")])})),0)])])])])])]):t._e()])},ge=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{staticClass:"form-control",attrs:{name:"delivereddate",id:"delivereddate"}},[a("option",{attrs:{value:"all"}},[t._v("All")]),a("option",{attrs:{value:"2020"}},[t._v("2020")]),a("option",{attrs:{value:"2021"}},[t._v("2021")]),a("option",{attrs:{value:"2021-3"}},[t._v("March 2021")]),a("option",{attrs:{value:"2021-4"}},[t._v("April 2021")]),a("option",{attrs:{value:"2021-5"}},[t._v("May 2021")]),a("option",{attrs:{value:"2021-6"}},[t._v("June 2021")]),a("option",{attrs:{value:"2021-7"}},[t._v("July 2021")]),a("option",{attrs:{value:"2021-8"}},[t._v("August 2021")]),a("option",{attrs:{value:"2021-9"}},[t._v("September 2021")]),a("option",{attrs:{value:"2021-10"}},[t._v("October 2021")]),a("option",{attrs:{value:"2021-11"}},[t._v("November 2021")]),a("option",{attrs:{value:"2021-12"}},[t._v("December 2021")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v(" Summary ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Delivered")]),a("th",[t._v("Shipped")]),a("th",[t._v("Returned")]),a("th",[t._v("Lost")]),a("th",[t._v("Total")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",attrs:{id:"headingTwo"}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}},[t._v(" Times ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Delivered"),a("br"),t._v("Avg. days")]),a("th",[t._v("Overall"),a("br"),t._v("Avg. days")]),a("th",[t._v("In shipment"),a("br"),t._v("Avg. days")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",attrs:{id:"headingThree"}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"}},[t._v(" Status ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Left at place")]),a("th",[t._v("Post box")]),a("th",[t._v("In person")]),a("th",[t._v("Unknown")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Prepare shipment")]),a("th",[t._v("In transit")]),a("th",[t._v("At post office")]),a("th",[t._v("Other")])])])}],fe={name:"Analyze",data:function(){return{records:"",label:"",display:void 0,status_list:[],country_list:[]}},computed:Object(i["c"])(["allTrackingData","grouplabels"]),methods:{Copy:function(t){var e="";this.display.summary[t].forEach((function(t){return e+="".concat(t,"\n")}));var a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.focus(),a.select(),document.execCommand("copy"),a.parentElement.removeChild(a)},drawgraph:function(){var t=this;document.getElementById("graph_area")&&(document.getElementById("graph_area").innerHTML="");var e={top:20,right:20,bottom:30,left:40},a=960-e.left-e.right,r=500-e.top-e.bottom,n=At["i"]().domain([new Date(At["f"](this.display.times.delivered.histogram.date_ts)),new Date(At["e"](this.display.times.delivered.histogram.date_ts))]).range([0,a]),s=At["h"]().domain([0,At["e"](this.display.times.delivered.histogram.count)]).range([r,0]),i=At["j"]("#graph_area").append("svg").attr("width",a+e.left+e.right).attr("height",r+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")");i.selectAll(".histbar").data(this.display.times.delivered.histogram.date_ts).enter().append("rect").attr("class","histbar").attr("fill","steelblue").attr("x",(function(t){return n(t)})).attr("width",10).attr("y",(function(e,a){return s(t.display.times.delivered.histogram.count[a])})).attr("height",(function(e,a){return r-s(t.display.times.delivered.histogram.count[a])})),i.append("g").attr("transform","translate(0,"+r+")").call(At["a"](n)),i.append("g").call(At["b"](s)),n=At["h"]().domain([0,89]).range([0,a]),s=At["h"]().domain([0,1]).range([r,0]);var o=document.createElement("DIV");document.getElementById("graph_area").append(o),i=At["j"]("#graph_area").append("svg").attr("width",a+e.left+e.right).attr("height",r+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")");var l=!1;i.selectAll(".histbar").data(this.display.times.deliverytimehistogram).enter().append("rect").attr("class","histbar").attr("fill",(function(e,a){return e/t.display.times.deliverytimehistogram_totaldelivered>.99&&0==l?(l=!0,o.innerText="A 99% delivery rate of packages known to be delivered, were reached ".concat(a," days from shipment."),"green"):"steelblue"})).attr("x",(function(t,e){return n(e)})).attr("width",9).attr("y",(function(e){return s(e/t.display.times.deliverytimehistogram_totaldelivered)})).attr("height",(function(e){return r-s(e/t.display.times.deliverytimehistogram_totaldelivered)}));var d=this.display.times.deliverytimehistogram_totalcount;i.append("path").datum(this.display.times.deliverytimehistogram).attr("fill","none").attr("stroke","orange").attr("stroke-width",3).attr("d",At["d"]().x((function(t,e){return n(e)})).y((function(t){return s(t/d)}))),i.append("g").attr("transform","translate(0,"+r+")").call(At["a"](n)),i.append("g").call(At["b"](s))},analyze:function(t){var e=this;t.preventDefault();for(var a=this.records.split(/[\r\n]+/),r=this.allTrackingData.filter((function(t){return a.indexOf(t.tracking)>=0})),n={delivered:0,delivered_list:[],shipped:0,shipped_list:[],returned:0,returned_list:[],lost:0,lost_list:[],total_records:r.length},s={delivered:{number:0,totaltime_ms:0,histogram:{date_ts:[],count:[]}},inshipment:{number:0,totaltime_ms:0},deliverytimehistogram:[],deliverytimehistogram_totaldelivered:0,deliverytimehistogram_totalcount:0},i={delivered:{door:0,post_locker:0,reception_person:0,unknown:0},inshipment:{prepare_shipping:0,in_tansit:0,delivery_attempt_await_pickup:0,other:0}},o=0;o<90;o++)s.deliverytimehistogram.push(0);this.status_list=[];var l=[],d=[];r.forEach((function(t){var a=l.indexOf(t.status);a>=0?e.status_list[a].count++:(e.status_list.push({status:t.status,count:1}),l.push(t.status));var r=d.indexOf(t.country);if(r>=0?e.country_list[r].count++:(e.country_list.push({country:t.country,count:1}),d.push(t.country)),s.deliverytimehistogram_totalcount++,t.delivered)if(0==t.delivereddate)"returned"==t.status?(n.returned++,n.returned_list.push(t.tracking)):(n.lost++,n.lost_list.push(t.tracking));else{if(n.delivered++,n.delivered_list.push(t.tracking),t.delivereddate>1){s.delivered.number++,s.delivered.totaltime_ms+=t.delivereddate-t.shippeddate;var o=Math.ceil((t.delivereddate-t.shippeddate)/864e5);s.deliverytimehistogram_totaldelivered++;for(var c=0;c<90;c++)c>=o&&s.deliverytimehistogram[c]++;var u=new Date(t.delivereddate),p=new Date(u.getFullYear(),u.getMonth(),u.getDate()).getTime(),v=s.delivered.histogram.date_ts.indexOf(p);-1==v?(s.delivered.histogram.date_ts.push(p),s.delivered.histogram.count.push(1)):s.delivered.histogram.count[v]++}t.status.indexOf("door")>=0||t.status.indexOf("garage")>=0?i.delivered.door++:t.status.indexOf("locker")>=0||t.status.indexOf("mailbox")>=0||t.status.indexOf("PO Box")>=0?i.delivered.post_locker++:t.status.indexOf("reception")>=0||t.status.indexOf("neighbor")>=0||t.status.indexOf("picked up at")>=0||t.status.indexOf("individual")>=0?i.delivered.reception_person++:i.delivered.unknown++}else n.shipped++,n.shipped_list.push(t.tracking),s.inshipment.number++,s.inshipment.totaltime_ms+=Date.now()-t.shippeddate,t.status.indexOf("label has been prepared")>=0||t.status.indexOf("shipping partner facility")>=0?i.inshipment.prepare_shipping++:t.status.indexOf("has not been updated")>=0||t.status.indexOf("on its way to the destination")>=0||t.status.indexOf("in transit to the destination")>=0||t.status.indexOf("in transit to the next facility")>=0||t.status.indexOf("arrived at the hub")>=0||t.status.indexOf("forwarded to a different")>=0||t.status.indexOf("arrived at the Post Office")>=0||"Shipped"==t.status?i.inshipment.in_tansit++:t.status.indexOf("attempted to deliver")>=0||t.status.indexOf("delivery attempt")>=0||t.status.indexOf("is being held at")>=0||t.status.indexOf("ready for pickup")>=0?i.inshipment.delivery_attempt_await_pickup++:i.inshipment.other++})),this.display={summary:n,times:s,status:i},setTimeout(this.drawgraph,1e3)},analyzelabel:function(t){var e=this;t.preventDefault();var a=document.getElementById("delivereddate").value.split("-"),r=0,n=Date.now();"all"!=a&&(1==a.length?(r=new Date(parseInt(a[0]),0,1,0,0,0,0).getTime(),n=new Date(parseInt(a[0]),11,31,23,59,59,999).getTime()):(r=new Date(parseInt(a[0]),parseInt(a[1])-1,1,0,0,0,0).getTime(),n=new Date(parseInt(a[0]),parseInt(a[1]),0,23,59,59,999).getTime()));var s=null,i=null;if("AIT"==this.label){var o=[];this.grouplabels.forEach((function(t){0==t.label.indexOf("AIT")&&o.push(t.id)})),s=this.allTrackingData.filter((function(t){return o.indexOf(t.grouplabel)>=0&&t.delivereddate>=r&&t.delivereddate<=n})),i=this.allTrackingData.filter((function(t){return o.indexOf(t.grouplabel)>=0&&0==t.delivered&&t.lastchecked>r&&t.lastchecked<n&&"INVALID"!=t.carrier}))}else{var l=parseInt(this.label);s=this.allTrackingData.filter((function(t){return t.grouplabel===l&&t.delivereddate>=r&&t.delivereddate<=n})),i=this.allTrackingData.filter((function(t){return t.grouplabel===l&&0==t.delivered&&t.lastchecked>r&&t.lastchecked<n&&"INVALID"!=t.carrier}))}for(var d={delivered:0,delivered_list:[],shipped:0,shipped_list:[],returned:0,returned_list:[],lost:0,lost_list:[],total_records:s.length,unchecked_records:i.length},c={delivered:{number:0,totaltime_ms:0,histogram:{date_ts:[],count:[]}},inshipment:{number:0,totaltime_ms:0},deliverytimehistogram:[],deliverytimehistogram_totaldelivered:0,deliverytimehistogram_totalcount:0},u={delivered:{door:0,post_locker:0,reception_person:0,unknown:0},inshipment:{prepare_shipping:0,in_tansit:0,delivery_attempt_await_pickup:0,other:0}},p=0;p<90;p++)c.deliverytimehistogram.push(0);this.status_list=[];var v=[],h=[];s.forEach((function(t){var a=v.indexOf(t.status);a>=0?e.status_list[a].count++:(e.status_list.push({status:t.status,count:1}),v.push(t.status));var r=h.indexOf(t.country);if(r>=0?e.country_list[r].count++:(e.country_list.push({country:t.country,count:1}),h.push(t.country)),c.deliverytimehistogram_totalcount++,t.delivered)if(0==t.delivereddate)"returned"==t.status?(d.returned++,d.returned_list.push(t.tracking)):(d.lost++,d.lost_list.push(t.tracking));else{if(d.delivered++,d.delivered_list.push(t.tracking),t.delivereddate>1){c.delivered.number++,c.delivered.totaltime_ms+=t.delivereddate-t.shippeddate;var n=Math.ceil((t.delivereddate-t.shippeddate)/864e5);c.deliverytimehistogram_totaldelivered++;for(var s=0;s<90;s++)s>=n&&c.deliverytimehistogram[s]++;var i=new Date(t.delivereddate),o=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),l=c.delivered.histogram.date_ts.indexOf(o);-1==l?(c.delivered.histogram.date_ts.push(o),c.delivered.histogram.count.push(1)):c.delivered.histogram.count[l]++}t.status.indexOf("door")>=0||t.status.indexOf("garage")>=0?u.delivered.door++:t.status.indexOf("locker")>=0||t.status.indexOf("mailbox")>=0||t.status.indexOf("PO Box")>=0?u.delivered.post_locker++:t.status.indexOf("reception")>=0||t.status.indexOf("neighbor")>=0||t.status.indexOf("picked up at")>=0||t.status.indexOf("individual")>=0?u.delivered.reception_person++:u.delivered.unknown++}else d.shipped++,d.shipped_list.push(t.tracking),c.inshipment.number++,c.inshipment.totaltime_ms+=Date.now()-t.shippeddate,t.status.indexOf("label has been prepared")>=0||t.status.indexOf("shipping partner facility")>=0?u.inshipment.prepare_shipping++:t.status.indexOf("has not been updated")>=0||t.status.indexOf("on its way to the destination")>=0||t.status.indexOf("in transit to the destination")>=0||t.status.indexOf("in transit to the next facility")>=0||t.status.indexOf("arrived at the hub")>=0||t.status.indexOf("forwarded to a different")>=0||t.status.indexOf("arrived at the Post Office")>=0||"Shipped"==t.status?u.inshipment.in_tansit++:t.status.indexOf("attempted to deliver")>=0||t.status.indexOf("delivery attempt")>=0||t.status.indexOf("is being held at")>=0||t.status.indexOf("ready for pickup")>=0?u.inshipment.delivery_attempt_await_pickup++:u.inshipment.other++})),this.display={summary:d,times:c,status:u},setTimeout(this.drawgraph,1e3)},AnalyzeAllLabels:function(){var t=[],e=[];this.grouplabels.forEach((function(a){0==a.label.indexOf("AIT")&&(t.push({label:a.label,lableid:a.id,firstdelivereddate:4765100399e3,numberdelivered:0,numberinshipment:0,numberreturned:0,numberlost:0,total:0,deliveredonground:0,deliveredinbox:0,deliveredtoperson:0,deliveredunknown:0}),e.push(a.id))})),this.allTrackingData.filter((function(t){return t.grouplabel>=1})).forEach((function(a){var r=e.indexOf(a.grouplabel);r>=0&&(a.delivered?0==a.delivereddate?"returned"==a.status?t[r].numberreturned++:t[r].numberlost++:(t[r].numberdelivered++,a.delivereddate>1&&t[r].firstdelivereddate>a.delivereddate&&(t[r].firstdelivereddate=a.delivereddate),a.status.indexOf("door")>=0||a.status.indexOf("garage")>=0?t[r].deliveredonground++:a.status.indexOf("locker")>=0||a.status.indexOf("mailbox")>=0||a.status.indexOf("PO Box")>=0?t[r].deliveredinbox++:a.status.indexOf("reception")>=0||a.status.indexOf("neighbor")>=0||a.status.indexOf("picked up at")>=0||a.status.indexOf("individual")>=0?t[r].deliveredtoperson++:t[r].deliveredunknown++):t[r].numberinshipment++)}));var a="",r=["","","","","","",""],n=new Date(Date.now()+324e5);function s(t){t.clipboardData.setData("text/html",a),t.clipboardData.setData("text/plain",a),t.preventDefault()}a+="".concat(n.getMonth()+1,"").concat(n.getDate(),"").concat(r[n.getDay()],"<br><br>"),a+="<b></b><br><b></b><br><br><br>",a+='\n      <table style="width:100%;">\n        <thead>\n          <tr>\n            <th style="width:16%;border:1px solid black;"></th>\n            <th style="width:16%;border:1px solid black;"></th>\n            <th style="width:16%;border:1px solid black;"></th>\n            <th style="width:16%;border:1px solid black;"></th>\n            <th style="width:16%;border:1px solid black;"></th>\n            <th style="width:16%;border:1px solid black;"></th>\n          </tr>\n        </thead>\n        <tbody>',t.forEach((function(t){var e=t.numberdelivered+t.numberinshipment+t.numberreturned+t.numberlost;a+='\n        <tr>\n          <td style="border:1px solid black;">'.concat(t.label,'</td>\n          <td style="border:1px solid black;">').concat(new Date(t.firstdelivereddate).getMonth()+1,"").concat(new Date(t.firstdelivereddate).getDate(),'</td>\n          <td style="border:1px solid black;">').concat(t.numberdelivered," (").concat(Math.round(1e4*t.numberdelivered/e)/100,'%)</td>\n          <td style="border:1px solid black;">').concat(t.numberinshipment," (").concat(Math.round(1e4*t.numberinshipment/e)/100,'%)</td>\n          <td style="border:1px solid black;">').concat(t.numberreturned," (").concat(Math.round(1e4*t.numberreturned/e)/100,'%)</td>\n          <td style="border:1px solid black;">').concat(t.numberlost," (").concat(Math.round(1e4*t.numberlost/e)/100,"%)</td>\n        </tr>\n        ")})),a+="\n        </tbody>\n      </table>\n      ",a+="<br>",a+="AIT<br><br>",a+="<br>",a+='\n      <table style="width:100%;">\n        <thead>\n          <tr>\n            <th style="width:20%;border:1px solid black;"></th>\n            <th style="width:20%;border:1px solid black;"></th>\n            <th style="width:20%;border:1px solid black;"></th>\n            <th style="width:20%;border:1px solid black;"></th>\n            <th style="width:20%;border:1px solid black;"></th>\n          </tr>\n        </thead>\n        <tbody>',t.forEach((function(t){a+='\n        <tr>\n          <td style="border:1px solid black;">'.concat(t.label,'</td>\n          <td style="border:1px solid black;">').concat(t.deliveredonground,'</td>\n          <td style="border:1px solid black;">').concat(t.deliveredinbox,'</td>\n          <td style="border:1px solid black;">').concat(t.deliveredtoperson,'</td>\n          <td style="border:1px solid black;">').concat(t.deliveredunknown,"</td>\n        </tr>\n        ")})),a+="\n        </tbody>\n      </table>\n      ",document.addEventListener("copy",s),document.execCommand("copy"),document.removeEventListener("copy",s),alert("Copied!")}}},ye=fe,ke=(a("aeb4"),Object(u["a"])(ye,be,ge,!1,null,"0cc9e0c6",null)),we=ke.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"section"},[a("h2",[t._v("Add label")]),a("input",{staticClass:"form-control",attrs:{type:"text",name:"new_label",id:"new_label"}}),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.add_new_label()}}},[t._v(" Add new label ")])]),a("table",{staticClass:"table table-dark table-striped"},[t._m(0),a("tbody",t._l(t.grouplabels,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.label))]),t._m(1,!0)])})),0)])])])])},xe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticStyle:{position:"sticky",top:"0","background-color":"#888888"}},[a("tr",[a("th",{attrs:{span:"col"}},[t._v("Label")]),a("th",{attrs:{span:"col"}},[t._v("*Not implemented")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("button",{staticClass:"btn btn-danger"},[t._v("Remove")])])}],De={name:"Labels",data:function(){return{}},computed:Object(i["c"])(["grouplabels"]),methods:Object(Ct["a"])(Object(Ct["a"])({},Object(i["b"])(["addLabel"])),{},{add_new_label:function(){this.addLabel({label:document.getElementById("new_label").value}),document.getElementById("new_label").value=""}})},Oe=De,Ee=(a("bf1e"),Object(u["a"])(Oe,Ce,xe,!1,null,"3bdfced1",null)),Se=Ee.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h1",[t._v("Label search")]),a("form",{on:{submit:t.analyzelabel}},[a("label",{attrs:{for:"records"}},[t._v("Label to analyze")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],attrs:{name:"records",id:"records",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.label=e.target.multiple?a:a[0]}}},t._l(t.grouplabels,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.label)+" ")])})),0),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])]),t.display?a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h1",[t._v("Alert")]),a("p",[t._v("Total undelivered: "+t._s(t.display.number))]),a("div",{staticClass:"section"},[a("h2",[t._v("Delivery attempt,  = updated within last 3 days")]),a("textarea",{staticClass:"form-control",attrs:{cols:"30",rows:"10",readonly:""},domProps:{value:t.display.alerts.delivery_attempt.join("\n")}})]),a("div",{staticClass:"section"},[a("h2",[t._v("No updates (more than a week)")]),a("textarea",{staticClass:"form-control",attrs:{cols:"30",rows:"10",readonly:""},domProps:{value:t.display.alerts.no_updates.join("\n")}})]),a("div",{staticClass:"section"},[a("h2",[t._v("All undelivered")]),a("textarea",{staticClass:"form-control",attrs:{cols:"30",rows:"10",readonly:""},domProps:{value:t.display.alerts.all.join("\n")}})])])]):t._e()])},Ae=[],Le={name:"Alert",data:function(){return{label:"",display:void 0}},computed:Object(i["c"])(["grouplabels"]),methods:{analyzelabel:function(t){var e=this;t.preventDefault();var a=parseInt(this.label),r={delivery_attempt:[],no_updates:[],all:[]};A.a.get("/api/gettrackingdatabatch?grouplabel=".concat(a)).then((function(t){t.data.length>0&&(t.data.forEach((function(t){var e=t.data.length>0?JSON.parse(t.data):void 0,a=0;if(e){if(e.shipments[0].events.forEach((function(t){t.timestamp>a&&(a=t.timestamp)})),t.data.toLowerCase().indexOf("deliv")>=0&&(t.data.toLowerCase().indexOf("attempt")>=0||t.data.toLowerCase().indexOf("out for")>=0)){var n="";Date.now()-a>2592e5&&(n=""),r.delivery_attempt.push(t.tracking+n)}Date.now()-a>6048e5&&r.no_updates.push(t.tracking)}r.all.push(t.tracking)})),e.display={number:t.data.length,alerts:r})})).catch((function(t){return console.log(t)}))}}},Me=Le,je=(a("4e83"),Object(u["a"])(Me,Te,Ae,!1,null,"71afc7fc",null)),Ie=je.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("form",{on:{submit:t.processForm}},[a("label",{attrs:{for:"records"}},[t._v("Records to update")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.records,expression:"records"}],staticClass:"form-control",attrs:{name:"records",id:"records",cols:"30",rows:"10",required:""},domProps:{value:t.records},on:{input:function(e){e.target.composing||(t.records=e.target.value)}}}),a("label",{attrs:{for:"date"}},[t._v("Shipped date (default: Now)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.timestamp,expression:"timestamp"}],staticClass:"form-control",attrs:{type:"date",name:"date",id:"date"},domProps:{value:t.timestamp},on:{input:function(e){e.target.composing||(t.timestamp=e.target.value)}}}),a("label",{attrs:{for:"label"}},[t._v("Group label (default: none)")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],staticClass:"form-control",attrs:{name:"label",id:"label"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.label=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1"}},[t._v("none")]),t._l(t.grouplabels,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.label)+" ")])}))],2),a("label",{attrs:{for:"country"}},[t._v("Country (default: UNKNOWN)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",attrs:{type:"text",name:"country",id:"country"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}}),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])])},Re=[],$e={name:"UpdateRecords",data:function(){return{records:"",timestamp:"",label:"",country:""}},computed:Object(i["c"])(["grouplabels"]),methods:Object(Ct["a"])(Object(Ct["a"])({},Object(i["b"])(["updateRecords"])),{},{processForm:function(t){var e=this;t.preventDefault();var a="UNKNOWN";this.country.length>0&&(a=this.country,this.country="");var r=this.records.split(/[\r\n]+/),n={records:[],timestamp:Date.now(),label:parseInt(this.label),country:a};if(r.forEach((function(t){if(t.indexOf(",")>0){var e=t.split(",");n.records.push({id:e[0]})}else if(t.indexOf("\t")>0){var a=t.split("\t");n.records.push({id:a[2]})}else n.records.push({id:t})})),this.timestamp.length>0){var s=this.timestamp.split("-"),i=new Date(parseInt(s[0]),parseInt(s[1])-1,parseInt(s[2]));n.timestamp=i.getTime()}this.updateRecords(n).then((function(){return e.records=""}))}})},Ne=$e,Ue=(a("16ca"),Object(u["a"])(Ne,Pe,Re,!1,null,"4e03ecb4",null)),Be=Ue.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h1",[t._v("Input search")]),a("p",[t._v("*csv file")]),a("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}}),a("button",{on:{click:function(e){return t.submitFile()}}},[t._v("Submit")])])]),t._m(0)])},Fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("pre",{attrs:{id:"output"}})])])}],qe={name:"ErrorCheck",data:function(){return{file:""}},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0]},submitFile:function(){var t=new FormData;t.append("file",this.file),A.a.post("/api/errorcheck",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){document.getElementById("output").innerHTML=JSON.stringify(t.data,null,2)})).catch((function(){console.log("FAILURE!!")}))}}},Je=qe,ze=Object(u["a"])(Je,He,Fe,!1,null,"2c320809",null),Ve=ze.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h2",[t._v("Alerts")]),null==t.data?a("div",[t._v("Loading...")]):a("div",[a("table",{staticClass:"table table-dark table-striped"},[t._m(0),a("tbody",t._l(t.data,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.tracking))]),a("td",[t._v(t._s(e.alert_message))])])})),0)])])])])])},Ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Tracking")]),a("th",[t._v("Alert")])])])}],We={name:"Alerts",data:function(){return{data:null}},created:function(){var t=this;A.a.get("/api/alerts").then((function(e){e.data.length>0&&(t.data=e.data)})).catch((function(t){return console.log(t)}))}},Ke=We,Ze=Object(u["a"])(Ke,Ge,Ye,!1,null,"45403bd2",null),Qe=Ze.exports;r["a"].use(g["a"]);var Xe=[{path:"/",name:"Home",component:N},{path:"/undelivered",name:"Undelivered",component:K},{path:"/undeliveredcountries",name:"UndeliveredCountries",component:at},{path:"/undeliveredstatus",name:"UndeliveredStatus",component:lt},{path:"/delivered30",name:"Delivered30days",component:ht},{path:"/deliveredcountries90",name:"DeliveredCountries90days",component:yt},{path:"/trackingdetails",name:"TrackingDetails",component:Et},{path:"/countrydetails",name:"CountryDetails",component:It},{path:"/maintenance",name:"Maintenance",component:Bt},{path:"/runtimelog",name:"RuntimeLog",component:Vt},{path:"/addrecords",name:"AddRecords",component:Qt},{path:"/countrylist",name:"CountryList",component:ne},{path:"/shippinglist",name:"ShippingList",component:ce},{path:"/shippingratinglist",name:"ShippingRatingList",component:me},{path:"/analyze",name:"Analyze",component:we},{path:"/alert",name:"Alert",component:Ie},{path:"/labels",name:"Labels",component:Se},{path:"/updaterecords",name:"UpdateRecords",component:Be},{path:"/errorcheck",name:"ErrorCheck",component:Ve},{path:"/alerts",name:"Alerts",component:Qe},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],ta=new g["a"]({routes:Xe}),ea=ta,aa=(a("96cf"),a("1da1")),ra={trackings:[]},na={allTrackingData:function(t){return t.trackings}},sa={fetchTrackings:function(t){return Object(aa["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,A.a.get("/api/getall");case 3:r=e.sent,a("setTrackings",r.data);case 5:case"end":return e.stop()}}),e)})))()},addRecords:function(t,e){return Object(aa["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,a.next=3,A.a.post("/api/addex",e);case 3:n=a.sent,r("addTrackings",n.data);case 5:case"end":return a.stop()}}),a)})))()},updateRecord:function(t,e){return Object(aa["a"])(regeneratorRuntime.mark((function a(){var r,n,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,n=e.action,s=e.tracking,a.next=4,A.a.post("/api/update_tracking",{action:n,tracking:s});case 4:i=a.sent,r("updateTrackings",{trackings:i.data,tracking:s});case 6:case"end":return a.stop()}}),a)})))()},updateRecords:function(t,e){return Object(aa["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,a.next=3,A.a.post("/api/update",e);case 3:n=a.sent,r("addTrackings",n.data);case 5:case"end":return a.stop()}}),a)})))()},deleteRecord:function(t,e){return Object(aa["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,n=e.tracking,a.next=4,A.a.post("/api/ ",{tracking:n});case 4:r("deleteTrackings",n);case 5:case"end":return a.stop()}}),a)})))()}},ia={setTrackings:function(t,e){return t.trackings=e},addTrackings:function(t,e){return t.trackings=t.trackings.concat(e)},updateTrackings:function(t,e){var a=e.trackings,r=e.tracking;return t.trackings=t.trackings.filter((function(t){return t.tracking!=r})).concat(a)},deleteTrackings:function(t,e){return t.trackings=t.trackings.filter((function(t){return t.tracking!=e}))}},oa={state:ra,getters:na,actions:sa,mutations:ia},la={countries:[]},da={countryToCode:function(t){return t.countries},codeToCountry:function(t){return t.countries.filter((function(t){return t.baseentry}))}},ca={fetchCountries:function(t){return Object(aa["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,A.a.get("/api/getallcountries");case 3:r=e.sent,a("setCountries",r.data);case 5:case"end":return e.stop()}}),e)})))()},addRecord:function(t,e){return Object(aa["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,a.next=3,A.a.post("/api/addcountry",e);case 3:n=a.sent,r("addCountry",n.data);case 5:case"end":return a.stop()}}),a)})))()}},ua={setCountries:function(t,e){return t.countries=e},addCountry:function(t,e){return t.countries=t.countries.concat(e)}},pa={state:la,getters:da,actions:ca,mutations:ua},va={shippings:[]},ha={allShippingMethods:function(t){return t.shippings}},_a={fetchShippings:function(t){return Object(aa["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,A.a.get("/api/getallshippings");case 3:r=e.sent,a("setShippings",r.data);case 5:case"end":return e.stop()}}),e)})))()},updateShippingRecord:function(t,e){return Object(aa["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,a.next=3,A.a.post("/api/updateshipping",{shipping:e});case 3:n=a.sent,r("updateShippings",{shippings:n.data});case 5:case"end":return a.stop()}}),a)})))()}},ma={setShippings:function(t,e){return t.shippings=e},updateShippings:function(t,e){var a=e.shippings;return t.shippings.forEach((function(e,r){e.country_name==a[0].country_name&&(t.shippings[r].ems_available=a[0].ems_available,t.shippings[r].airsp_available=a[0].airsp_available,t.shippings[r].salspr_available=a[0].salspr_available,t.shippings[r].salspu_available=a[0].salspu_available,t.shippings[r].salp_available=a[0].salp_available,t.shippings[r].dhl_available=a[0].dhl_available,t.shippings[r].airp_available=a[0].airp_available)}))}},ba={state:va,getters:ha,actions:_a,mutations:ma},ga={grouplabels:[]},fa={grouplabels:function(t){return t.grouplabels}},ya={fetchGrouplabels:function(t){return Object(aa["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,A.a.get("/api/getallGrouplabels");case 3:r=e.sent,a("setGrouplabels",r.data);case 5:case"end":return e.stop()}}),e)})))()},addLabel:function(t,e){return Object(aa["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,a.next=3,A.a.post("/api/addgrouplabel",e);case 3:n=a.sent,r("addGrouplabel",n.data);case 5:case"end":return a.stop()}}),a)})))()}},ka={setGrouplabels:function(t,e){return t.grouplabels=e},addGrouplabel:function(t,e){return t.grouplabels=t.grouplabels.concat(e)}},wa={state:ga,getters:fa,actions:ya,mutations:ka};r["a"].use(i["a"]);var Ca=new i["a"].Store({state:{},mutations:{},actions:{},modules:{Trackings:oa,Countries:pa,Shippings:ba,Grouplabels:wa}});r["a"].config.productionTip=!1,new r["a"]({router:ea,store:Ca,render:function(t){return t(b)}}).$mount("#app")},5945:function(t,e,a){},"85ec":function(t,e,a){},8757:function(t,e,a){},aeb4:function(t,e,a){"use strict";var r=a("8757"),n=a.n(r);n.a},bf1e:function(t,e,a){"use strict";var r=a("bfa8"),n=a.n(r);n.a},bfa8:function(t,e,a){},c0f7:function(t,e,a){"use strict";var r=a("151a"),n=a.n(r);n.a},cbc3:function(t,e,a){},dee0:function(t,e,a){"use strict";var r=a("5945"),n=a.n(r);n.a},e4ae:function(t,e,a){},ee4c:function(t,e,a){"use strict";var r=a("cbc3"),n=a.n(r);n.a}});
//# sourceMappingURL=app.3c95c1f9.js.map